
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Arcade</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { margin:0; font-family:sans-serif; background:#1c0033; color:#eee; display:flex; overflow-x:hidden; }
  /* Sidebar overlay minimized */
  #sidebar {
    position: fixed;
    left: 0;
    top: 0;
    height: 100vh;
    background: #330066;
    width: 60px;
    padding: 0.5rem;
    overflow-y: auto;
    transition: width 0.3s ease;
    z-index: 10;
  }
  #sidebar:hover {
    width: 240px;
  }
  #sidebar header {
    display: flex;
    justify-content: center;
    padding: 0.5rem 0;
  }
  #sidebar header img {
    height: 50px;
    max-width: 100%;
  }
  #categoryList {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  #categoryList li {
    padding: 0.6rem 0.5rem;
    cursor: pointer;
    white-space: nowrap;
    border-radius: 4px;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: background 0.2s;
  }
  #categoryList li:hover {
    background: #660099;
  }

  #content {
    flex: 1;
    padding: 1rem;
    margin-left: 60px; /* so content is not under sidebar */
    transition: margin-left 0.3s;
  }

  /* Viewer layout */
  .viewer {
    display: none;
    margin-bottom: 2rem;
    display: flex;
    gap: 1rem;
    position: relative;
  }

  #gameFrame {
    background: black;
    width: 800px;
    height: 600px;
    border: none;
    border-radius: 8px;
    flex-shrink: 0;
  }

  #thumbColumn {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    max-height: 600px;
    overflow-y: auto;
  }

  #thumbColumn img {
    width: 120px;
    height: 80px;
    object-fit: cover;
    border-radius: 6px;
    background: #330033;
  }

  #controls {
    position: absolute;
    top: -40px;
    left: 0;
    display: flex;
    gap: 0.5rem;
  }
  #controls button {
    background: #cc66ff;
    color: black;
    padding: 0.3rem 0.8rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
  #backBtn {
    background: #ff99ff;
  }

  /* Game cards */
  .category { margin-bottom: 2rem; }
  .category h2 { color:#ffccff; cursor:pointer; margin-bottom:0.5rem; }
  .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:1rem; }
  .card { background:#4d0066; border-radius:8px; overflow:hidden; cursor:pointer; transition:transform .2s; display:flex; flex-direction:column; align-items:center; }
  .card:hover { transform:scale(1.05); background:#660099; }
  .thumb { width:180px; height:120px; object-fit:cover; margin-bottom:0.5rem; border-radius:6px; background:#330033; }
</style>
</head>
<body>

<div id="sidebar">
  <header>
    <img src="assets/logo.png" alt="Logo">
  </header>
  <ul id="categoryList">
    <li onclick="filterCategory('All Games')">All Games</li><li onclick="filterCategory('Shooter')">Shooter</li><li onclick="filterCategory('Uncategorized')">Uncategorized</li>
  </ul>
</div>

<div id="content">
  <div class="viewer" id="viewer">
    <div id="controls">
      <button id="backBtn" onclick="closeGame()">← Back</button>
      <button onclick="toggleFullscreen()">⛶ Fullscreen</button>
    </div>
    <iframe id="gameFrame" src=""></iframe>
    <div id="thumbColumn"></div>
  </div>

  <div id="allGames">
    
      <div class="category" data-category="All Games">
        <h2 onclick="filterCategory('All Games')">All Games</h2>
        <div class="grid">
          
            <div class="card" onclick="openGame('1v1.lol')">
              <img class="thumb" src="games/1v1.lol/thumbnail.png" alt="1v1.lol">
              <div>1v1.lol</div>
            </div>
          
            <div class="card" onclick="openGame('Age Of War')">
              <img class="thumb" src="games/Age Of War/thumbnail.png" alt="Age Of War">
              <div>Age Of War</div>
            </div>
          
            <div class="card" onclick="openGame('Backrooms 2D')">
              <img class="thumb" src="games/Backrooms 2D/thumbnail.png" alt="Backrooms 2D">
              <div>Backrooms 2D</div>
            </div>
          
            <div class="card" onclick="openGame('Bad Piggies')">
              <img class="thumb" src="games/Bad Piggies/thumbnail.png" alt="Bad Piggies">
              <div>Bad Piggies</div>
            </div>
          
            <div class="card" onclick="openGame('Baldi’s Basics')">
              <img class="thumb" src="games/Baldi’s Basics/thumbnail.png" alt="Baldi’s Basics">
              <div>Baldi’s Basics</div>
            </div>
          
            <div class="card" onclick="openGame('Block Blast')">
              <img class="thumb" src="games/Block Blast/thumbnail.png" alt="Block Blast">
              <div>Block Blast</div>
            </div>
          
        </div>
      </div>
    
      <div class="category" data-category="Shooter">
        <h2 onclick="filterCategory('Shooter')">Shooter</h2>
        <div class="grid">
          
            <div class="card" onclick="openGame('1v1.lol')">
              <img class="thumb" src="games/1v1.lol/thumbnail.png" alt="1v1.lol">
              <div>1v1.lol</div>
            </div>
          
        </div>
      </div>
    
      <div class="category" data-category="Uncategorized">
        <h2 onclick="filterCategory('Uncategorized')">Uncategorized</h2>
        <div class="grid">
          
            <div class="card" onclick="openGame('Age Of War')">
              <img class="thumb" src="games/Age Of War/thumbnail.png" alt="Age Of War">
              <div>Age Of War</div>
            </div>
          
            <div class="card" onclick="openGame('Backrooms 2D')">
              <img class="thumb" src="games/Backrooms 2D/thumbnail.png" alt="Backrooms 2D">
              <div>Backrooms 2D</div>
            </div>
          
            <div class="card" onclick="openGame('Bad Piggies')">
              <img class="thumb" src="games/Bad Piggies/thumbnail.png" alt="Bad Piggies">
              <div>Bad Piggies</div>
            </div>
          
            <div class="card" onclick="openGame('Baldi’s Basics')">
              <img class="thumb" src="games/Baldi’s Basics/thumbnail.png" alt="Baldi’s Basics">
              <div>Baldi’s Basics</div>
            </div>
          
            <div class="card" onclick="openGame('Block Blast')">
              <img class="thumb" src="games/Block Blast/thumbnail.png" alt="Block Blast">
              <div>Block Blast</div>
            </div>
          
        </div>
      </div>
    
  </div>
</div>

<script>
const viewer = document.getElementById('viewer');
const frame = document.getElementById('gameFrame');
const thumbColumn = document.getElementById('thumbColumn');

function openGame(folder) {
  frame.src = 'games/' + folder + '/index.html';
  viewer.style.display = 'flex';
  // Show All Games under
  filterCategory('All Games');
  window.scrollTo({ top: 0, behavior: 'smooth' });

  // Load thumbnails in column
  thumbColumn.innerHTML = '';
  const formats = ['png','jpg','jpeg','webp'];
  formats.forEach(ext => {
    const img = new Image();
    img.src = 'games/' + folder + '/thumbnail.' + ext;
    img.onload = () => thumbColumn.appendChild(img);
  });
}

function closeGame() {
  frame.src = '';
  viewer.style.display = 'none';
  thumbColumn.innerHTML = '';
}

function toggleFullscreen() {
  if (!document.fullscreenElement) viewer.requestFullscreen().catch(e=>console.log(e));
  else document.exitFullscreen();
}

function filterCategory(cat) {
  document.querySelectorAll('.category').forEach(c => {
    if (cat === 'All Games') {
      c.style.display = (c.getAttribute('data-category') === 'All Games') ? 'block' : 'none';
    } else {
      c.style.display = (c.getAttribute('data-category') === cat) ? 'block' : 'none';
    }
  });
}

// prevent scroll with arrow keys / space when in game view
window.addEventListener('keydown', e => {
  const blocked = [' ', 'ArrowUp','ArrowDown','ArrowLeft','ArrowRight'];
  if (viewer.style.display === 'flex' && blocked.includes(e.key)) e.preventDefault();
});

// Start with All Games
filterCategory('All Games');
</script>

</body>
</html>
