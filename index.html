<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Resource Hints for Performance -->
  <link rel="dns-prefetch" href="https://www.googletagmanager.com">
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com">
  <link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>

  <!-- Optimize Google Fonts loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap"></noscript>

  <!-- Preload critical assets -->
  <link rel="preload" as="image" href="assets/logo.webp" fetchpriority="high">

  <!-- Redirect /index.html to / -->
  <script>
    if (window.location.pathname === '/index.html') {
      window.location.replace('/' + window.location.hash);
    }
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4QZLTDX504"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-4QZLTDX504');
  </script>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1033412505744705" crossorigin="anonymous"></script>

  
<script>
  // Enhanced Analytics Tracking
  (function() {
    // Generate or retrieve session ID
    function getSessionId() {
      const SESSION_DURATION = 30 * 60 * 1000; // 30 minutes
      let sessionData = sessionStorage.getItem('ga_session_data');

      if (sessionData) {
        try {
          const data = JSON.parse(sessionData);
          const now = Date.now();

          // Check if session is still valid
          if (now - data.lastActivity < SESSION_DURATION) {
            data.lastActivity = now;
            sessionStorage.setItem('ga_session_data', JSON.stringify(data));
            return data.sessionId;
          }
        } catch (e) {
          console.error('Error parsing session data:', e);
        }
      }

      // Create new session
      const newSessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
      const newSessionData = {
        sessionId: newSessionId,
        startTime: Date.now(),
        lastActivity: Date.now()
      };
      sessionStorage.setItem('ga_session_data', JSON.stringify(newSessionData));

      // Track session start
      if (typeof gtag !== 'undefined') {
        gtag('event', 'session_start', {
          session_id: newSessionId,
          timestamp: new Date().toISOString()
        });
      }

      return newSessionId;
    }

    // Get or create user ID for tracking across sessions
    function getUserId() {
      let userId = localStorage.getItem('ga_user_id');
      if (!userId) {
        userId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        localStorage.setItem('ga_user_id', userId);
      }
      return userId;
    }

    // Initialize session tracking
    window.analyticsSession = {
      sessionId: getSessionId(),
      userId: getUserId(),
      pageViewStartTime: Date.now(),
      engagementInterval: null
    };

    // Track page engagement every 60 seconds (reduced for performance)
    function startEngagementTracking() {
      if (window.analyticsSession.engagementInterval) {
        clearInterval(window.analyticsSession.engagementInterval);
      }

      window.analyticsSession.engagementInterval = setInterval(function() {
        const timeOnPage = Math.floor((Date.now() - window.analyticsSession.pageViewStartTime) / 1000);

        if (typeof gtag !== 'undefined') {
          gtag('event', 'user_engagement', {
            session_id: window.analyticsSession.sessionId,
            engagement_time_msec: timeOnPage * 1000,
            page_location: window.location.href,
            page_title: document.title
          });
        }
      }, 60000); // Every 60 seconds (reduced from 15s for performance)
    }

    // Track page view with enhanced parameters
    function trackEnhancedPageView(pageType, pageName, additionalParams) {
      const sessionData = JSON.parse(sessionStorage.getItem('ga_session_data') || '{}');
      const params = {
        page_type: pageType,
        page_name: pageName,
        session_id: window.analyticsSession.sessionId,
        user_id: window.analyticsSession.userId,
        timestamp: new Date().toISOString(),
        session_start_time: sessionData.startTime ? new Date(sessionData.startTime).toISOString() : new Date().toISOString(),
        ...additionalParams
      };

      if (typeof gtag !== 'undefined') {
        gtag('event', 'page_view', params);

        // Also send as custom event for better tracking in realtime
        gtag('event', 'page_visited', params);
      }

      // Reset page view start time
      window.analyticsSession.pageViewStartTime = Date.now();

      // Start engagement tracking
      startEngagementTracking();
    }

    // Track when user leaves page
    function trackPageExit() {
      const timeOnPage = Math.floor((Date.now() - window.analyticsSession.pageViewStartTime) / 1000);

      if (typeof gtag !== 'undefined') {
        gtag('event', 'page_exit', {
          session_id: window.analyticsSession.sessionId,
          time_on_page_seconds: timeOnPage,
          page_location: window.location.href,
          page_title: document.title,
          timestamp: new Date().toISOString()
        });
      }

      // Clear engagement interval
      if (window.analyticsSession.engagementInterval) {
        clearInterval(window.analyticsSession.engagementInterval);
      }
    }

    // Expose tracking functions globally
    window.trackEnhancedPageView = trackEnhancedPageView;
    window.trackPageExit = trackPageExit;

    // Track page exit on beforeunload
    window.addEventListener('beforeunload', trackPageExit);

    // Track visibility changes (tab switching)
    document.addEventListener('visibilitychange', function() {
      if (document.hidden) {
        if (window.analyticsSession.engagementInterval) {
          clearInterval(window.analyticsSession.engagementInterval);
        }
      } else {
        startEngagementTracking();
      }
    });
  })();
</script>
  

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Primary Meta Tags -->
  <title>Chromebook Unlocked Games - Play Unblocked Games Online Free at School</title>
  <meta name="title" content="Chromebook Unlocked Games - Play Unblocked Games Online Free at School">
  <meta name="description" content="Chromebook Unlocked Games - Play 100+ free unblocked games online at school! Access unrestricted games for Chromebook and school computers. No downloads, no blocks - play online free instantly. Popular unblocked games like Slope, Happy Wheels, FNAF and more!">
  <meta name="keywords" content="unblocked games, free online games, school games, chromebook games, unblocked games at school, free games online, play games at school, no download games, browser games, unblocked games for school, free unblocked games, online games unblocked, school computer games, games for chromebook, unblocked school games, play free games online, games that work at school, undetected games, games not blocked at school, unrestricted games, unrestricted games at school, chromebook unlocked games, chromebook unlocked, play online free, games online free, unrestricted school games, unblocked chromebook games, free unrestricted games, play unblocked games, best unblocked games, fun games for school, games to play at school, free browser games, online games for kids, classroom games, games for students, unblocked gaming site, free school games, chromebook unlocked, games unblocked at school, play games free online, unrestricted online games, play online free games, chromebook unlocked games site, unblocked games chromebook, school unblocked games online">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="language" content="English">
  <meta name="author" content="Chromebook Unlocked Games">
  <meta name="revisit-after" content="1 days">
  <meta name="rating" content="general">
  <meta name="distribution" content="global">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://chromebookunlocked.github.io/">
  <meta property="og:title" content="Chromebook Unlocked Games - Play Unblocked Games Online Free at School">
  <meta property="og:description" content="Chromebook Unlocked Games - Play 100+ free unblocked games online at school! Access unrestricted games for Chromebook and school computers. No downloads, no blocks - play online free instantly. Popular unblocked games like Slope, Happy Wheels, FNAF and more!">
  <meta property="og:image" content="https://chromebookunlocked.github.io/assets/logo.webp">
  <meta property="og:image:alt" content="Chromebook Unlocked Games - Play Unblocked Games Online Free at School">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="Chromebook Unlocked Games">
  <meta property="og:locale" content="en_US">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://chromebookunlocked.github.io/">
  <meta name="twitter:title" content="Chromebook Unlocked Games - Play Unblocked Games Online Free at School">
  <meta name="twitter:description" content="Chromebook Unlocked Games - Play 100+ free unblocked games online at school! Access unrestricted games for Chromebook and school computers. No downloads, no blocks - play online free instantly. Popular unblocked games like Slope, Happy Wheels, FNAF and more!">
  <meta name="twitter:image" content="https://chromebookunlocked.github.io/assets/logo.webp">
  <meta name="twitter:image:alt" content="Chromebook Unlocked Games - Play Unblocked Games Online Free at School">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="assets/logo.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/logo.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/logo.png">
  <link rel="icon" type="image/png" sizes="96x96" href="assets/logo.png">
  <link rel="icon" type="image/png" sizes="192x192" href="assets/logo.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/logo.png">
  <link rel="shortcut icon" type="image/png" href="assets/logo.png">

  <!-- Additional SEO -->
  <meta name="theme-color" content="#ff66ff">
  <link rel="canonical" href="https://chromebookunlocked.github.io/">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">

  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Structured Data for Search Engines -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Chromebook Unlocked Games",
  "alternateName": [
    "Chromebook Unlocked",
    "Unblocked Games",
    "Free School Games",
    "Unrestricted Games",
    "Games Online Free"
  ],
  "url": "https://chromebookunlocked.github.io/",
  "description": "Chromebook Unlocked Games - Play 100+ free unblocked games online at school! Access unrestricted games for Chromebook and school computers. Play online free - no downloads required.",
  "image": "https://chromebookunlocked.github.io/assets/logo.webp",
  "inLanguage": "en-US",
  "publisher": {
    "@type": "Organization",
    "name": "Chromebook Unlocked Games",
    "logo": {
      "@type": "ImageObject",
      "url": "https://chromebookunlocked.github.io/assets/logo.webp",
      "width": 512,
      "height": 512
    }
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "https://chromebookunlocked.github.io/?q={search_term_string}"
    },
    "query-input": "required name=search_term_string"
  }
}
  </script>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Chromebook Unlocked Games",
  "url": "https://chromebookunlocked.github.io/",
  "logo": "https://chromebookunlocked.github.io/assets/logo.webp",
  "description": "Chromebook Unlocked Games - Free unrestricted unblocked games website for school and Chromebook users. Play online free!",
  "sameAs": []
}
  </script>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Chromebook Unlocked Games - Free Unblocked Games",
  "description": "Collection of free unblocked unrestricted online games to play at school on Chromebook - play online free",
  "numberOfItems": 161,
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "item": {
        "@type": "VideoGame",
        "name": "10 Minutes Till Dawn",
        "url": "https://chromebookunlocked.github.io/10 Minutes Till Dawn.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 2,
      "item": {
        "@type": "VideoGame",
        "name": "1on1 Soccer",
        "url": "https://chromebookunlocked.github.io/1on1 Soccer.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 3,
      "item": {
        "@type": "VideoGame",
        "name": "1on1 Tennis",
        "url": "https://chromebookunlocked.github.io/1on1 Tennis.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 4,
      "item": {
        "@type": "VideoGame",
        "name": "1v1.lol",
        "url": "https://chromebookunlocked.github.io/1v1.lol.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 5,
      "item": {
        "@type": "VideoGame",
        "name": "2048",
        "url": "https://chromebookunlocked.github.io/2048.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 6,
      "item": {
        "@type": "VideoGame",
        "name": "234 Player Games",
        "url": "https://chromebookunlocked.github.io/234 Player Games.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 7,
      "item": {
        "@type": "VideoGame",
        "name": "3Dash",
        "url": "https://chromebookunlocked.github.io/3Dash.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 8,
      "item": {
        "@type": "VideoGame",
        "name": "4th and Goal",
        "url": "https://chromebookunlocked.github.io/4th and Goal.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 9,
      "item": {
        "@type": "VideoGame",
        "name": "A Dance of Fire and Ice",
        "url": "https://chromebookunlocked.github.io/A Dance of Fire and Ice.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 10,
      "item": {
        "@type": "VideoGame",
        "name": "Ace Combat 3",
        "url": "https://chromebookunlocked.github.io/Ace Combat 3.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 11,
      "item": {
        "@type": "VideoGame",
        "name": "Achilles 2",
        "url": "https://chromebookunlocked.github.io/Achilles 2.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 12,
      "item": {
        "@type": "VideoGame",
        "name": "Adventure Capitalist",
        "url": "https://chromebookunlocked.github.io/Adventure Capitalist.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 13,
      "item": {
        "@type": "VideoGame",
        "name": "Age Of War",
        "url": "https://chromebookunlocked.github.io/Age Of War.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 14,
      "item": {
        "@type": "VideoGame",
        "name": "Ages of Conflict",
        "url": "https://chromebookunlocked.github.io/Ages of Conflict.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 15,
      "item": {
        "@type": "VideoGame",
        "name": "Airline Tycoon Idle",
        "url": "https://chromebookunlocked.github.io/Airline Tycoon Idle.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 16,
      "item": {
        "@type": "VideoGame",
        "name": "BTD5",
        "url": "https://chromebookunlocked.github.io/BTD5.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 17,
      "item": {
        "@type": "VideoGame",
        "name": "Bad Ice Cream 2",
        "url": "https://chromebookunlocked.github.io/Bad Ice Cream 2.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 18,
      "item": {
        "@type": "VideoGame",
        "name": "Bad Ice Cream",
        "url": "https://chromebookunlocked.github.io/Bad Ice Cream.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 19,
      "item": {
        "@type": "VideoGame",
        "name": "Bad Parenting",
        "url": "https://chromebookunlocked.github.io/Bad Parenting.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 20,
      "item": {
        "@type": "VideoGame",
        "name": "Bad Piggies",
        "url": "https://chromebookunlocked.github.io/Bad Piggies.html",
        "playMode": "SinglePlayer",
        "gamePlatform": "Web Browser",
        "applicationCategory": "Game",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    }
  ]
}
  </script>

  <style>
    /* Fallback font with size-adjust to minimize CLS when Orbitron loads */
@font-face {
  font-family: 'Orbitron Fallback';
  src: local('Arial Black'), local('Arial Bold'), local('Helvetica Bold');
  size-adjust: 95%;
  ascent-override: 100%;
  descent-override: 20%;
  line-gap-override: 0%;
}

:root {
  --base-font: clamp(11px, 1vw, 16px);
  --thumb-height: clamp(100px, 12vw, 200px);
  --sidebar-width: clamp(40px, 4vw, 70px);
  --accent: #ff66ff;
  --accent-dark: #cc33ff;
  --accent-light: #ff99ff;
  --background-dark: #1c0033;
  --card-bg: #4d0066;
  --card-hover: #660099;
  /* Font stack with fallback that matches Orbitron metrics to minimize CLS */
  --font-main: 'Orbitron', 'Orbitron Fallback', 'Arial Black', sans-serif;
  --content-max-width: min(1400px, 95vw);
  --grid-gap: clamp(0.6rem, 1.2vw, 1rem);
  /* Fixed header height to prevent CLS */
  --header-height: 56px;
  --header-height-mobile: 90px;
}

/* basics */
* { box-sizing: border-box; }
html,body {
  margin:0; padding:0; height:100%;
  background: linear-gradient(135deg, #0d001a 0%, #1c0033 50%, #2d0052 100%);
  font-family:var(--font-main);
  color:#eee;
  font-size:var(--base-font);
  overflow:hidden;
}

/* Accessibility - Skip Link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--accent);
  color: #fff;
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 0 0 4px 0;
  font-family: var(--font-main);
  font-weight: 600;
  z-index: 10000;
  transition: top 0.3s ease;
}

.skip-link:focus {
  top: 0;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
}
::-webkit-scrollbar-thumb {
  background: rgba(102, 0, 153, 0.8);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(128, 0, 192, 0.9);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(102, 0, 153, 0.8) rgba(0, 0, 0, 0.3);
}

/* Sidebar */
#sidebar {
  width: var(--sidebar-width);
  background: rgba(13, 0, 26, 0.97);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  padding:0;
  padding-top: 0;
  height: calc(100vh - var(--header-height)); /* Full height minus header */
  overflow-y:auto;
  overflow-x:hidden;
  position:fixed;
  left:0;
  top: var(--header-height); /* Start below header */
  z-index:999;
  /* Removed width transition to prevent CLS - sidebar overlays content instead */
  border-right: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 2px 0 15px rgba(0, 0, 0, 0.3);
  display: flex;
  flex-direction: column;
  scrollbar-width: none; /* Firefox - hidden by default */
}

/* Hide scrollbar when sidebar is minimized */
#sidebar::-webkit-scrollbar {
  width: 0;
}

/* Show scrollbar only when sidebar is expanded */
#sidebar:hover {
  width: 200px;
  box-shadow: 4px 0 20px rgba(0, 0, 0, 0.4);
  scrollbar-width: thin;
}

#sidebar:hover::-webkit-scrollbar {
  width: 3px;
}

#sidebar:hover::-webkit-scrollbar-track {
  background: transparent;
}

#sidebar:hover::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 2px;
}

#sidebar:hover::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.35);
}

#sidebar ul {
  list-style:none;
  padding:0.3rem 0;
  margin:0;
  overflow-y: auto;
  overflow-x: hidden;
  flex: 1;
}
#sidebar li {
  cursor:pointer;
  padding: 0.5rem 0.5rem;
  margin: 0.15rem 0.25rem;
  border-radius: 6px;
  transition: background .15s ease, border .15s ease, padding .2s ease;
  white-space:nowrap;
  opacity: 0.9;
  font-family:var(--font-main);
  font-weight: 600;
  font-size: 0.85rem;
  border: 1px solid transparent;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 0.6rem;
}
/* Icon styling - fixed position, constant size */
#sidebar li .icon {
  font-size: 1.15rem;
  flex-shrink: 0;
  min-width: 1.4rem;
  text-align: center;
}
/* Text hidden when minimized with smooth transition */
#sidebar li .text {
  opacity: 0;
  max-width: 0;
  overflow: hidden;
  transition: opacity .2s ease, max-width .2s ease;
}
/* Expanded state - reveal text smoothly */
#sidebar:hover li {
  padding: 0.5rem 0.7rem;
}
#sidebar:hover li .text {
  opacity: 1;
  max-width: 200px;
}
#sidebar li:hover {
  background: rgba(255, 102, 255, 0.15);
  border: 1px solid rgba(255, 102, 255, 0.25);
}

/* Content */
#content {
  padding:0;
  overflow-y:auto;
  overflow-x:hidden;
  margin-left: var(--sidebar-width);
  margin-top: var(--header-height); /* Space for fixed header */
  width: calc(100% - var(--sidebar-width));
  /* Removed margin-left transition to prevent CLS */
  height: calc(100vh - var(--header-height));
  -webkit-overflow-scrolling: touch;
}

/* Optimize for Chromebook 11.6" screens (1366x768) */
@media (max-width: 1366px) and (max-height: 768px) {
  :root {
    --thumb-height: clamp(100px, 12vw, 140px);
    --grid-gap: 0.9rem;
  }
}

/* Small laptops and tablets */
@media (max-width: 1024px) {
  #content {
    margin-left: 0;
    width: 100%;
    margin-top: var(--header-height);
  }
  #sidebar {
    transform: translateX(-100%);
    width: 220px;
    top: var(--header-height);
    height: calc(100vh - var(--header-height));
    z-index: 2000;
    transition: transform .25s ease;
  }
  #sidebar:hover,
  #sidebar:focus-within {
    transform: translateX(0);
  }
  #sidebar li {
    padding: 0.6rem 0.8rem;
  }
  #sidebar li .text {
    opacity: 1;
    max-width: 200px;
  }
}

/* Mobile devices */
@media (max-width: 768px) {
  #sidebar {
    width: 200px;
    top: 85px;
    height: calc(100vh - 85px);
  }
  #sidebar li {
    padding: 0.5rem 0.7rem;
    font-size: 0.8rem;
  }
  #sidebar li .icon {
    font-size: 1.1rem;
  }
  #content {
    margin-top: 85px;
    height: calc(100vh - 85px);
  }
}

/* Very small screens */
@media (max-width: 480px) {
  #sidebar {
    width: 170px;
  }
  #sidebar li {
    padding: 0.4rem 0.5rem;
    font-size: 0.7rem;
    gap: 0.4rem;
  }
  #sidebar li .icon {
    font-size: 0.95rem;
    min-width: 1.1rem;
  }
}

/* Top Header Bar - Matches game page header style */
#topHeader {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1001;
  height: var(--header-height);
  min-height: var(--header-height);
  background: rgba(13, 0, 26, 0.97);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-right: 1.5rem;
}

.header-left {
  height: 100%;
  padding: 0 2rem;
  display: flex;
  align-items: center;
  gap: clamp(8px, 1.5vw, 16px);
  cursor: pointer;
  transition: 0.3s ease;
}

.header-left:hover {
  opacity: 0.9;
}

.header-logo {
  /* Fixed dimensions to prevent CLS */
  width: 36px;
  height: 36px;
  min-width: 36px;
  min-height: 36px;
  border-radius: 8px;
  background: linear-gradient(135deg, var(--accent), #8b5cf6);
  padding: 2px;
  box-shadow: 0 2px 10px rgba(255, 102, 255, 0.2);
  object-fit: contain;
}

/* Logo hover animation removed for performance */

#topHeader h1 {
  margin: 0;
  font-size: clamp(0.85rem, 2vw, 1.3rem);
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent), var(--accent-light), #6366f1);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.3px;
  white-space: nowrap;
}

@media (max-width: 768px) {
  #topHeader {
    height: var(--header-height-mobile);
    min-height: var(--header-height-mobile);
    max-height: var(--header-height-mobile);
    flex-direction: column;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    /* Prevent CLS from content changes */
    contain: layout size style;
  }
  .header-left {
    width: 100%;
    justify-content: center;
    /* Fixed height for header row */
    height: 40px;
    min-height: 40px;
  }
  .header-logo {
    width: 32px;
    height: 32px;
    min-width: 32px;
    min-height: 32px;
  }
  #topHeader h1 {
    font-size: 0.9rem;
    /* Prevent font CLS */
    min-height: 1.2rem;
  }
  #sidebar {
    top: var(--header-height-mobile);
    height: calc(100vh - var(--header-height-mobile));
  }
  #content {
    margin-top: var(--header-height-mobile);
    height: calc(100vh - var(--header-height-mobile));
  }
  /* Mobile search container fixed height */
  #searchContainer {
    height: 40px;
    min-height: 40px;
  }
}

#searchContainer {
  flex: 1;
  max-width: 350px;
  min-width: 160px;
  position: relative;
}

@media (max-width: 768px) {
  #searchContainer {
    max-width: 100%;
    width: 100%;
  }
}

#searchIcon {
  position: absolute;
  left: 0.8rem;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(255, 255, 255, 0.5);
  pointer-events: none;
  font-size: 0.95rem;
}

#searchBar {
  width: 100%;
  padding: 0.5rem 1rem 0.5rem 2.4rem;
  border: 2px solid rgba(255, 102, 255, 0.3);
  border-radius: 20px;
  background: rgba(0, 0, 0, 0.4);
  color: #fff;
  font-family: var(--font-main);
  font-size: 0.9rem;
  outline: none;
  transition: all .3s ease;
}

#searchBar::placeholder {
  color: rgba(255, 255, 255, 0.5);
}

#searchBar:focus {
  border-color: var(--accent);
  box-shadow: 0 0 20px rgba(255, 102, 255, 0.4);
  background: rgba(0, 0, 0, 0.6);
}

/* Search Results Dropdown - positioned absolutely to prevent CLS */
#searchDropdown {
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 0;
  right: 0;
  background: rgba(26, 0, 51, 0.98);
  border: 2px solid rgba(255, 102, 255, 0.4);
  border-radius: 15px;
  max-height: 400px;
  overflow-y: auto;
  /* Use visibility + opacity instead of display for CLS prevention */
  visibility: hidden;
  opacity: 0;
  z-index: 1000;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
  /* Prevent layout shifts - dropdown overlays content */
  pointer-events: none;
  transition: opacity 0.15s ease, visibility 0.15s ease;
  /* Contain layout to prevent shifts */
  contain: layout style;
}

#searchDropdown.show {
  visibility: visible;
  opacity: 1;
  pointer-events: auto;
}

.search-result-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.8rem 1rem;
  cursor: pointer;
  transition: all .2s ease;
  border-bottom: 1px solid rgba(255, 102, 255, 0.1);
}

.search-result-item:last-child {
  border-bottom: none;
}

.search-result-item:hover {
  background: rgba(102, 0, 153, 0.5);
  padding-left: 1.5rem;
}

.search-result-thumb {
  /* Fixed dimensions to prevent CLS */
  width: 50px;
  height: 50px;
  min-width: 50px;
  min-height: 50px;
  flex-shrink: 0;
  aspect-ratio: 1 / 1;
  border-radius: 8px;
  object-fit: cover;
  border: 2px solid rgba(255, 102, 255, 0.3);
  background: rgba(77, 0, 102, 0.5);
}

.search-result-name {
  font-family: var(--font-main);
  font-weight: 600;
  color: #fff;
  font-size: 0.95rem;
}

.search-no-results {
  padding: 1.5rem;
  text-align: center;
  color: rgba(255, 255, 255, 0.6);
  font-family: var(--font-main);
}

.content-wrapper {
  padding: 0 1.5rem 1.5rem 1.5rem;
}

/* Controls (buttons) */
#controls {
  display:none;
  justify-content:space-between;
  align-items:center;
  max-width:1400px;
  margin:0 auto 0.5rem auto;
  padding:.5rem;
  font-size:1.1em;
  gap: 1rem;
}
#controls.active {
  display: flex;
}
button {
  padding:.7rem 1.3rem;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-size:1em;
  background:linear-gradient(135deg,var(--accent),var(--accent-dark));
  color:#fff;
  font-weight:700;
  letter-spacing:.5px;
  transition:all .3s ease;
  box-shadow:0 4px 15px rgba(255, 102, 255, 0.3);
  font-family:var(--font-main);
  border: 1px solid rgba(255, 102, 255, 0.4);
  min-width: 140px;
  white-space: nowrap;
}
button:hover {
  transform:translateY(-2px) scale(1.05);
  box-shadow:0 6px 25px rgba(255, 102, 255, 0.5);
}
button:active {
  transform:translateY(0) scale(1);
}
#backBtn {
  background:linear-gradient(135deg,#ff99ff,var(--accent));
}
#fullscreenBtn {
  background:linear-gradient(135deg,var(--accent-dark),#9933ff);
}
#gameTitle {
  flex: 1;
  text-align: center;
  font-weight: 700;
  font-size: clamp(1rem, 2vw, 1.3rem);
}

@media (max-width: 768px) {
  #controls {
    flex-wrap: wrap;
    gap: 0.5rem;
  }
  button {
    font-size: 0.9em;
    padding: 0.6rem 1rem;
    min-width: 100px;
  }
  #gameTitle {
    width: 100%;
    order: -1;
    margin-bottom: 0.5rem;
  }
}

/* Banner Ad Containers */
.ad-banner-container {
  display: none;
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  width: 160px;
  height: 600px;
  z-index: 50;
  background: rgba(26, 0, 51, 0.3);
  border: 1px solid rgba(255, 102, 255, 0.2);
  border-radius: 10px;
  backdrop-filter: blur(10px);
  overflow: hidden;
}

.ad-banner-left {
  left: 10px;
}

.ad-banner-right {
  right: 10px;
}

/* Show banners only on large screens and when game is active */
@media (min-width: 1800px) {
  #controls.active ~ .viewer-wrapper .ad-banner-container {
    display: block;
  }
}

.ad-banner-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: rgba(255, 255, 255, 0.3);
  font-family: var(--font-main);
  font-size: 0.9rem;
  text-align: center;
  padding: 1rem;
}

/* Viewer wrapper for banner positioning */
.viewer-wrapper {
  position: relative;
  width: 100%;
  margin-bottom: 1rem;
  /* Prevent CLS when viewer appears */
  contain: layout style;
}
.viewer {
  position:relative;
  display:none;
  justify-content:center;
  align-items:center;
  width:100%;
  max-width: min(1400px, 90vw);
  aspect-ratio:16 / 9;
  background:transparent;
  border-radius:15px;
  overflow:hidden;
  margin:0 auto;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
  /* Use opacity + visibility for CLS-free show/hide */
  transition: opacity 0.3s ease;
  /* Prevent CLS */
  contain: layout paint size;
}

@media (max-width: 1600px) {
  .viewer {
    max-width: 85vw;
  }
}

@media (max-width: 1200px) {
  .viewer {
    max-width: 90vw;
  }
}

@media (max-width: 768px) {
  .viewer {
    max-width: 95vw;
  }
}

/* Fullscreen viewer styles */
.viewer:fullscreen {
  max-width: 100vw;
  width: 100vw;
  height: 100vh;
  aspect-ratio: auto;
  border-radius: 0;
  margin: 0;
}

.viewer:-webkit-full-screen {
  max-width: 100vw;
  width: 100vw;
  height: 100vh;
  aspect-ratio: auto;
  border-radius: 0;
  margin: 0;
}

.viewer:-moz-full-screen {
  max-width: 100vw;
  width: 100vw;
  height: 100vh;
  aspect-ratio: auto;
  border-radius: 0;
  margin: 0;
}

.viewer:-ms-fullscreen {
  max-width: 100vw;
  width: 100vw;
  height: 100vh;
  aspect-ratio: auto;
  border-radius: 0;
  margin: 0;
}

.viewer iframe {
  width:100%;
  height:100%;
  border:none;
  background:transparent;
  loading:lazy;
  overflow:hidden;
}

/* Fullscreen iframe scaling */
.viewer:fullscreen iframe,
.viewer:-webkit-full-screen iframe,
.viewer:-moz-full-screen iframe,
.viewer:-ms-fullscreen iframe {
  width: 100vw;
  height: 100vh;
  object-fit: contain;
}

/* Play overlay */
#startOverlay {
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,#330066 0%, #1c0033 50%, #0d001a 100%);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:1.5rem;
  z-index:10;
  transition:opacity .5s ease;
}

/* Fullscreen overlay adjustments */
.viewer:fullscreen #startOverlay,
.viewer:-webkit-full-screen #startOverlay,
.viewer:-moz-full-screen #startOverlay,
.viewer:-ms-fullscreen #startOverlay {
  width: 100vw;
  height: 100vh;
}

#startOverlay img {
  width:clamp(200px,40vw,350px);
  max-width:80%;
  /* Fixed aspect ratio to prevent CLS */
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius:15px;
  box-shadow:0 10px 40px rgba(255, 102, 255, 0.4);
  border: 2px solid rgba(255, 102, 255, 0.3);
}
#startOverlay h1 {
  margin:0;
  font-size:clamp(1.5rem,2.5vw,3rem);
  color:#fff;
  font-family:var(--font-main);
  text-shadow: 0 0 20px var(--accent);
  font-weight: 900;
  /* Fixed min-height to prevent CLS from font loading */
  min-height: 2.5rem;
  line-height: 1.2;
  text-align: center;
}
#startButton {
  padding:1rem 2.5rem;
  font-size:clamp(1rem,1.5vw,1.5rem);
  background:linear-gradient(135deg, var(--accent), var(--accent-dark));
  color:#fff;
  border:none;
  border-radius:12px;
  cursor:pointer;
  transition:.3s;
  font-weight:900;
  font-family:var(--font-main);
  box-shadow:0 5px 25px rgba(255, 102, 255, 0.5);
  border: 2px solid var(--accent-light);
}
#startButton:hover {
  background:linear-gradient(135deg, var(--accent-light), var(--accent));
  box-shadow:0 8px 35px rgba(255, 102, 255, 0.7);
  transform: translateY(-3px) scale(1.05);
}

/* Grid & cards */
.category {
  margin-top:2rem;
  max-width: var(--content-max-width);
  margin-left: auto;
  margin-right: auto;
  padding: 0 clamp(0.5rem, 1.5vw, 1rem);
  /* Use content-visibility for better rendering performance */
  content-visibility: auto;
  /* Fixed intrinsic size to prevent CLS - no 'auto' keyword */
  contain-intrinsic-size: 0 500px;
}
.category:first-of-type {
  margin-top: 0.2rem;
}
.category h2 {
  color:#ffccff;
  margin-bottom:1rem;
  cursor:pointer;
  font-family:var(--font-main);
  font-weight: 900;
  font-size: 1.5rem;
  /* Fixed min-height to prevent CLS from font loading */
  min-height: 2.5rem;
  line-height: 1.4;
  text-shadow: 0 0 15px rgba(255, 102, 255, 0.5);
  padding-bottom: 0.5rem;
  border-bottom: 2px solid rgba(255, 102, 255, 0.3);
}
.grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: var(--grid-gap);
  justify-items: center;
  width: 100%;
  /* CLS optimization: contain layout and prevent shifts */
  contain: layout style;
  /* Prevent grid from shifting on load */
  min-height: 0;
}

/* Responsive grid columns - use CSS Grid auto-fill for stability */
@media (min-width: 1200px) {
  .grid { grid-template-columns: repeat(6, 1fr); }
}
@media (min-width: 900px) and (max-width: 1199px) {
  .grid { grid-template-columns: repeat(5, 1fr); }
}
@media (min-width: 600px) and (max-width: 899px) {
  .grid { grid-template-columns: repeat(4, 1fr); }
}
@media (min-width: 400px) and (max-width: 599px) {
  .grid { grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 399px) {
  .grid { grid-template-columns: repeat(2, 1fr); }
}

.card {
  width:100%;
  aspect-ratio: 1 / 1;
  background: linear-gradient(135deg, var(--card-bg), #5a0077);
  border-radius:15px;
  overflow:hidden;
  cursor:pointer;
  transition: transform .2s ease, border-color .2s ease, box-shadow .2s ease;
  text-align:center;
  display:flex;
  flex-direction:column;
  position:relative;
  border: 2px solid rgba(255, 102, 255, 0.2);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  /* CLS prevention */
  contain: layout paint;
}
.card:hover {
  transform:translateY(-5px) scale(1.03);
  background: linear-gradient(135deg, var(--card-hover), #7700aa);
  border: 2px solid var(--accent);
  box-shadow: 0 8px 30px rgba(255, 102, 255, 0.5);
}

@media (hover: none) and (pointer: coarse) {
  .card:active {
    transform:scale(0.98);
  }
}

.thumb-container {
  width:100%;
  height:100%;
  position:relative;
  overflow:hidden;
  border-radius:15px;
  background:#220033;
}
.thumb-container::before {
  content:"";
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  filter: blur(20px) brightness(0.5);
  z-index:0;
  background-image: var(--thumb-url);
}
/* Removed hover scale on blurred background for performance */
.thumb {
  position:absolute;
  top: 0;
  left: 0;
  z-index:1;
  width:100%;
  height:100%;
  object-fit:cover;
  object-position: center;
  transition:transform .2s ease;
  /* Placeholder background to prevent CLS */
  background: rgba(77, 0, 102, 0.5);
}
.card:hover .thumb {
  transform:scale(1.08);
}

.card-title {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 0.6rem 0.4rem;
  font-family:var(--font-main);
  font-weight: 600;
  font-size: clamp(0.7rem, 0.85vw, 0.85rem);
  color: rgba(255, 255, 255, 0.9);
  background: rgba(0, 0, 0, 0);
  width: 100%;
  line-height: 1.2;
  z-index: 2;
  transition: all .3s ease;
  opacity: 0;
  transform: translateY(10px);
  text-shadow: 0 0 8px rgba(0, 0, 0, 0.8);
}

.card:hover .card-title {
  opacity: 1;
  transform: translateY(0);
  background: rgba(0, 0, 0, 0.75);
}

/* "more" card - same size as game cards */
.card.more {
  background: linear-gradient(135deg, rgba(102, 0, 153, 0.3), rgba(77, 0, 102, 0.3));
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  color: #ffccff;
  border: 2px dashed rgba(255, 102, 255, 0.5);
  aspect-ratio: 1 / 1;
  transition: all .3s ease;
  box-shadow: 0 4px 15px rgba(255, 102, 255, 0.2);
}

.card.more:hover {
  background: linear-gradient(135deg, rgba(102, 0, 153, 0.5), rgba(77, 0, 102, 0.5));
  border: 2px dashed var(--accent);
  transform:translateY(-5px) scale(1.03);
  box-shadow: 0 8px 30px rgba(255, 102, 255, 0.6);
}

.card.more .dots {
  font-size: clamp(3rem, 5vw, 4rem);
  line-height:1;
  font-weight: 900;
  background: linear-gradient(135deg, var(--accent), var(--accent-light));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 0.5rem;
}

.card.more .label {
  font-size: clamp(0.9rem, 1.2vw, 1.1rem);
  opacity: 0.9;
  font-family: var(--font-main);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Ad Tile Cards - same size as game cards */
.card.ad-tile {
  background: linear-gradient(135deg, rgba(26, 0, 51, 0.9), rgba(45, 0, 82, 0.9));
  border: 2px solid rgba(255, 102, 255, 0.25);
  display: flex;
  justify-content: center;
  align-items: center;
  aspect-ratio: 1 / 1;
  overflow: hidden;
  padding: 0;
}

.card.ad-tile:hover {
  transform: none;
  border-color: rgba(255, 102, 255, 0.35);
  box-shadow: 0 4px 20px rgba(255, 102, 255, 0.3);
}

.card.ad-tile .ad-content {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

.card.ad-tile .ad-content ins {
  display: block !important;
  width: 100% !important;
  height: 100% !important;
}

/* Loading spinner for infinite scroll */
.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(255, 102, 255, 0.2);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  margin: 0 auto;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Footer */
#siteFooter {
  background: linear-gradient(180deg, rgba(13, 0, 26, 0.98) 0%, rgba(8, 0, 18, 0.99) 100%);
  border-top: 2px solid rgba(255, 102, 255, 0.3);
  margin-top: 4rem;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
  padding: 2.5rem 1.5rem;
  text-align: center;
}

.footer-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 2rem;
}

.footer-brand {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.75rem;
  text-align: center;
}

.footer-brand h3 {
  font-size: 1.2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #ff66ff, #ff99ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0;
}

.footer-url {
  font-family: 'Courier New', monospace;
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.85rem;
  padding: 0.4rem 0.8rem;
  background: rgba(255, 102, 255, 0.08);
  border-radius: 6px;
  border: 1px solid rgba(255, 102, 255, 0.15);
}

.footer-links {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 2rem;
  width: 100%;
}

.footer-links a {
  color: rgba(255, 255, 255, 0.65);
  text-decoration: none;
  font-size: 0.9rem;
  transition: all 0.3s ease;
  position: relative;
  font-family: var(--font-main);
  font-weight: 500;
  padding: 0.5rem 0;
  display: inline-block;
  text-align: center;
}

.footer-links a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, #ff66ff, transparent);
  transition: width 0.3s ease;
}

.footer-links a:hover {
  color: #ff66ff;
  text-decoration: none;
  transform: translateY(-2px);
}

.footer-links a:hover::after {
  width: 100%;
}

.footer-bottom {
  max-width: 1200px;
  margin: 0 auto;
  padding-top: 2rem;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  text-align: center;
}

.footer-bottom p {
  color: rgba(255, 255, 255, 0.5);
  font-size: 0.75rem;
  margin: 0;
  opacity: 0.8;
  font-family: var(--font-main);
  font-weight: 300;
  letter-spacing: 0.5px;
}

@media (max-width: 768px) {
  #siteFooter {
    padding: 2rem 1rem;
  }

  .footer-content {
    gap: 1.5rem;
  }

  .footer-links {
    gap: 1.5rem;
    flex-direction: row;
    justify-content: center;
  }

  .footer-links a {
    font-size: 0.85rem;
  }

  .footer-bottom {
    padding-top: 1.5rem;
  }
}

@media (max-width: 480px) {
  .footer-links {
    gap: 1.2rem;
  }

  .footer-links a {
    font-size: 0.8rem;
  }
}

/* Keep legacy DMCA link style for backwards compatibility */
#dmcaLink {
  display: block;
  text-align: center;
  background: transparent;
  color: rgba(255, 255, 255, 0.4);
  padding: 2rem 1rem;
  font-size: 0.7rem;
  text-decoration: none;
  transition: .3s;
  font-family: var(--font-main);
  font-weight: 300;
  margin-top: 4rem;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
}
#dmcaLink:hover {
  color: rgba(255, 255, 255, 0.6);
}

  </style>
</head>
<body>

  <!-- Skip to main content link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Sidebar -->
  <nav id="sidebar" role="navigation" aria-label="Game categories">
    <ul id="categoryList" role="menu">
      <li role="menuitem" tabindex="0" onclick="window.location.href='/'" onkeypress="if(event.key==='Enter')window.location.href='/'"><span class="icon">üè†</span><span class="text">Home</span></li>
      <li role="menuitem" tabindex="0" onclick="filterCategory('Action')" onkeypress="if(event.key==='Enter')filterCategory('Action')"><span class="icon">‚öîÔ∏è</span><span class="text">Action</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Arcade')" onkeypress="if(event.key==='Enter')filterCategory('Arcade')"><span class="icon">üïπÔ∏è</span><span class="text">Arcade</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Puzzle')" onkeypress="if(event.key==='Enter')filterCategory('Puzzle')"><span class="icon">üß©</span><span class="text">Puzzle</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Shooter')" onkeypress="if(event.key==='Enter')filterCategory('Shooter')"><span class="icon">üî´</span><span class="text">Shooter</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Adventure')" onkeypress="if(event.key==='Enter')filterCategory('Adventure')"><span class="icon">üó∫Ô∏è</span><span class="text">Adventure</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Casual')" onkeypress="if(event.key==='Enter')filterCategory('Casual')"><span class="icon">üéØ</span><span class="text">Casual</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Strategy')" onkeypress="if(event.key==='Enter')filterCategory('Strategy')"><span class="icon">‚ôüÔ∏è</span><span class="text">Strategy</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Horror')" onkeypress="if(event.key==='Enter')filterCategory('Horror')"><span class="icon">üëª</span><span class="text">Horror</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Driving')" onkeypress="if(event.key==='Enter')filterCategory('Driving')"><span class="icon">üéØ</span><span class="text">Driving</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Platformer')" onkeypress="if(event.key==='Enter')filterCategory('Platformer')"><span class="icon">üèÉ</span><span class="text">Platformer</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Racing')" onkeypress="if(event.key==='Enter')filterCategory('Racing')"><span class="icon">üèéÔ∏è</span><span class="text">Racing</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Sports')" onkeypress="if(event.key==='Enter')filterCategory('Sports')"><span class="icon">‚öΩ</span><span class="text">Sports</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Simulation')" onkeypress="if(event.key==='Enter')filterCategory('Simulation')"><span class="icon">üéØ</span><span class="text">Simulation</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('2 Player')" onkeypress="if(event.key==='Enter')filterCategory('2 Player')"><span class="icon">üë´</span><span class="text">2 Player</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Point and Click')" onkeypress="if(event.key==='Enter')filterCategory('Point and Click')"><span class="icon">üéØ</span><span class="text">Point and Click</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Clicker')" onkeypress="if(event.key==='Enter')filterCategory('Clicker')"><span class="icon">üéØ</span><span class="text">Clicker</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Uncategorized')" onkeypress="if(event.key==='Enter')filterCategory('Uncategorized')"><span class="icon">üìÅ</span><span class="text">Uncategorized</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Physics')" onkeypress="if(event.key==='Enter')filterCategory('Physics')"><span class="icon">üéØ</span><span class="text">Physics</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Multiplayer')" onkeypress="if(event.key==='Enter')filterCategory('Multiplayer')"><span class="icon">üë•</span><span class="text">Multiplayer</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Rhythm')" onkeypress="if(event.key==='Enter')filterCategory('Rhythm')"><span class="icon">üéµ</span><span class="text">Rhythm</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Idle')" onkeypress="if(event.key==='Enter')filterCategory('Idle')"><span class="icon">üéØ</span><span class="text">Idle</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Psychological')" onkeypress="if(event.key==='Enter')filterCategory('Psychological')"><span class="icon">üéØ</span><span class="text">Psychological</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Sniper')" onkeypress="if(event.key==='Enter')filterCategory('Sniper')"><span class="icon">üéØ</span><span class="text">Sniper</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Survival')" onkeypress="if(event.key==='Enter')filterCategory('Survival')"><span class="icon">üèïÔ∏è</span><span class="text">Survival</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Roguelike')" onkeypress="if(event.key==='Enter')filterCategory('Roguelike')"><span class="icon">üíÄ</span><span class="text">Roguelike</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Retro')" onkeypress="if(event.key==='Enter')filterCategory('Retro')"><span class="icon">üëæ</span><span class="text">Retro</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Zombie')" onkeypress="if(event.key==='Enter')filterCategory('Zombie')"><span class="icon">üéØ</span><span class="text">Zombie</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Music')" onkeypress="if(event.key==='Enter')filterCategory('Music')"><span class="icon">üé∂</span><span class="text">Music</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Fighting')" onkeypress="if(event.key==='Enter')filterCategory('Fighting')"><span class="icon">ü•ä</span><span class="text">Fighting</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('RPG')" onkeypress="if(event.key==='Enter')filterCategory('RPG')"><span class="icon">üé≠</span><span class="text">RPG</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Sandbox')" onkeypress="if(event.key==='Enter')filterCategory('Sandbox')"><span class="icon">üéØ</span><span class="text">Sandbox</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Building')" onkeypress="if(event.key==='Enter')filterCategory('Building')"><span class="icon">üèóÔ∏è</span><span class="text">Building</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Football')" onkeypress="if(event.key==='Enter')filterCategory('Football')"><span class="icon">üèà</span><span class="text">Football</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Tower Defence')" onkeypress="if(event.key==='Enter')filterCategory('Tower Defence')"><span class="icon">üéØ</span><span class="text">Tower Defence</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Basketball')" onkeypress="if(event.key==='Enter')filterCategory('Basketball')"><span class="icon">üèÄ</span><span class="text">Basketball</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Parkour')" onkeypress="if(event.key==='Enter')filterCategory('Parkour')"><span class="icon">üéØ</span><span class="text">Parkour</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Stealth')" onkeypress="if(event.key==='Enter')filterCategory('Stealth')"><span class="icon">üéØ</span><span class="text">Stealth</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Psyhological')" onkeypress="if(event.key==='Enter')filterCategory('Psyhological')"><span class="icon">üéØ</span><span class="text">Psyhological</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Rougelike')" onkeypress="if(event.key==='Enter')filterCategory('Rougelike')"><span class="icon">üéØ</span><span class="text">Rougelike</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Running')" onkeypress="if(event.key==='Enter')filterCategory('Running')"><span class="icon">üéØ</span><span class="text">Running</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Crafting')" onkeypress="if(event.key==='Enter')filterCategory('Crafting')"><span class="icon">üéØ</span><span class="text">Crafting</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Ragdoll')" onkeypress="if(event.key==='Enter')filterCategory('Ragdoll')"><span class="icon">üéØ</span><span class="text">Ragdoll</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Skill')" onkeypress="if(event.key==='Enter')filterCategory('Skill')"><span class="icon">üéØ</span><span class="text">Skill</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Flight')" onkeypress="if(event.key==='Enter')filterCategory('Flight')"><span class="icon">üéØ</span><span class="text">Flight</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Clickers')" onkeypress="if(event.key==='Enter')filterCategory('Clickers')"><span class="icon">üëÜ</span><span class="text">Clickers</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Boss Fight')" onkeypress="if(event.key==='Enter')filterCategory('Boss Fight')"><span class="icon">üéØ</span><span class="text">Boss Fight</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Card')" onkeypress="if(event.key==='Enter')filterCategory('Card')"><span class="icon">üÉè</span><span class="text">Card</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Casino')" onkeypress="if(event.key==='Enter')filterCategory('Casino')"><span class="icon">üéØ</span><span class="text">Casino</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('3D')" onkeypress="if(event.key==='Enter')filterCategory('3D')"><span class="icon">üéØ</span><span class="text">3D</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Logic')" onkeypress="if(event.key==='Enter')filterCategory('Logic')"><span class="icon">üéØ</span><span class="text">Logic</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Trading Games')" onkeypress="if(event.key==='Enter')filterCategory('Trading Games')"><span class="icon">üéØ</span><span class="text">Trading Games</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Visual Novel')" onkeypress="if(event.key==='Enter')filterCategory('Visual Novel')"><span class="icon">üéØ</span><span class="text">Visual Novel</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Funny')" onkeypress="if(event.key==='Enter')filterCategory('Funny')"><span class="icon">üéØ</span><span class="text">Funny</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Actrion')" onkeypress="if(event.key==='Enter')filterCategory('Actrion')"><span class="icon">üéØ</span><span class="text">Actrion</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Casual Trending Games')" onkeypress="if(event.key==='Enter')filterCategory('Casual Trending Games')"><span class="icon">üéØ</span><span class="text">Casual Trending Games</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Mining')" onkeypress="if(event.key==='Enter')filterCategory('Mining')"><span class="icon">üéØ</span><span class="text">Mining</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Management')" onkeypress="if(event.key==='Enter')filterCategory('Management')"><span class="icon">üéØ</span><span class="text">Management</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Tower Defense')" onkeypress="if(event.key==='Enter')filterCategory('Tower Defense')"><span class="icon">üéØ</span><span class="text">Tower Defense</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Soccer')" onkeypress="if(event.key==='Enter')filterCategory('Soccer')"><span class="icon">üéØ</span><span class="text">Soccer</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Endless')" onkeypress="if(event.key==='Enter')filterCategory('Endless')"><span class="icon">üéØ</span><span class="text">Endless</span></li><li role="menuitem" tabindex="0" onclick="filterCategory('Defense')" onkeypress="if(event.key==='Enter')filterCategory('Defense')"><span class="icon">üéØ</span><span class="text">Defense</span></li>
    </ul>
  </nav>
  <div id="sidebarIndicator" aria-hidden="true"></div>

  <!-- Content -->
  <div id="content" role="main">
    <!-- Top Header with Search -->
    <header id="topHeader">
      <div class="header-left">
        <img src="assets/logo.webp" alt="Chromebook Unlocked Games Logo" class="header-logo" onclick="window.location.href='/'" width="48" height="48" fetchpriority="high">
        <h1 onclick="window.location.href='/'">Chromebook Unlocked Games</h1>
      </div>
      <div id="searchContainer" role="search">
        <span id="searchIcon" aria-hidden="true">üîç</span>
        <input type="text" id="searchBar" placeholder="Search games..." oninput="searchGames(this.value)" aria-label="Search for games" autocomplete="off">
        <div id="searchDropdown" role="listbox" aria-label="Search results"></div>
      </div>
    </header>

    <div class="content-wrapper" id="main-content">
      <div id="controls">
        <button id="backBtn" onclick="closeGame()" aria-label="Go back to game list">‚Üê Back</button>
        <span id="gameTitle" role="heading" aria-level="2"></span>
        <button id="fullscreenBtn" onclick="toggleFullscreen()" aria-label="Toggle fullscreen mode">‚õ∂ Fullscreen</button>
      </div>

      <div class="viewer-wrapper">
        <!-- Left Banner Ad -->
        <div class="ad-banner-container ad-banner-left">
          <div class="ad-banner-placeholder">
            Advertisement
          </div>
        </div>

        <!-- Game Viewer -->
        <div class="viewer" id="viewer">
          <div id="startOverlay">
            <img id="startThumb" src="" alt="Game Thumbnail" width="300" height="300" loading="eager">
            <h1 id="startName"></h1>
            <button id="startButton" onclick="startGame()">‚ñ∂ Play</button>
          </div>
          <iframe id="gameFrame" src="" scrolling="no"></iframe>
        </div>

        <!-- Right Banner Ad -->
        <div class="ad-banner-container ad-banner-right">
          <div class="ad-banner-placeholder">
            Advertisement
          </div>
        </div>
      </div>

      <!-- All Games Grid -->
      <div class="category" data-category="All Games" id="allGamesSection">
        <h2>All Games</h2>
        <div class="grid" id="gamesGrid">
          <div class="card game-card" data-index="0" data-folder="Henry Stickmin Escaping The Prison" data-name="henry stickmin escaping the prison" onclick="window.location.href='/Henry Stickmin Escaping The Prison.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Henry Stickmin Escaping The Prison/thumbnail.webp')">
      <img class="thumb" src="games/Henry Stickmin Escaping The Prison/thumbnail.webp" alt="Henry Stickmin Escaping The Prison" loading="eager" decoding="async" width="300" height="300" fetchpriority="high">
    </div>
    <div class="card-title">Henry Stickmin Escaping The Prison</div>
  </div><div class="card game-card" data-index="1" data-folder="1on1 Tennis" data-name="1on1 tennis" onclick="window.location.href='/1on1 Tennis.html'">
    <div class="thumb-container" style="--thumb-url: url('games/1on1 Tennis/thumbnail.webp')">
      <img class="thumb" src="games/1on1 Tennis/thumbnail.webp" alt="1on1 Tennis" loading="eager" decoding="async" width="300" height="300" fetchpriority="high">
    </div>
    <div class="card-title">1on1 Tennis</div>
  </div><div class="card game-card" data-index="2" data-folder="Bloodmoney 2" data-name="bloodmoney 2" onclick="window.location.href='/Bloodmoney 2.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Bloodmoney 2/thumbnail.webp')">
      <img class="thumb" src="games/Bloodmoney 2/thumbnail.webp" alt="Bloodmoney 2" loading="eager" decoding="async" width="300" height="300" fetchpriority="high">
    </div>
    <div class="card-title">Bloodmoney 2</div>
  </div><div class="card game-card" data-index="3" data-folder="The Visitor" data-name="the visitor" onclick="window.location.href='/The Visitor.html'">
    <div class="thumb-container" style="--thumb-url: url('games/The Visitor/thumbnail.webp')">
      <img class="thumb" src="games/The Visitor/thumbnail.webp" alt="The Visitor" loading="eager" decoding="async" width="300" height="300" fetchpriority="high">
    </div>
    <div class="card-title">The Visitor</div>
  </div><div class="card game-card" data-index="4" data-folder="Granny" data-name="granny" onclick="window.location.href='/Granny.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Granny/thumbnail.webp')">
      <img class="thumb" data-src="games/Granny/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Granny" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Granny</div>
  </div><div class="card game-card" data-index="5" data-folder="Going Balls" data-name="going balls" onclick="window.location.href='/Going Balls.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Going Balls/thumbnail.webp')">
      <img class="thumb" data-src="games/Going Balls/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Going Balls" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Going Balls</div>
  </div><div class="card game-card" data-index="6" data-folder="Tower Wizzard" data-name="tower wizzard" onclick="window.location.href='/Tower Wizzard.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Tower Wizzard/thumbnail.webp')">
      <img class="thumb" data-src="games/Tower Wizzard/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Tower Wizzard" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Tower Wizzard</div>
  </div><div class="card game-card" data-index="7" data-folder="Bob The Robber 2" data-name="bob the robber 2" onclick="window.location.href='/Bob The Robber 2.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Bob The Robber 2/thumbnail.webp')">
      <img class="thumb" data-src="games/Bob The Robber 2/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Bob The Robber 2" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Bob The Robber 2</div>
  </div><div class="card game-card" data-index="8" data-folder="Obby Bike" data-name="obby bike" onclick="window.location.href='/Obby Bike.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Obby Bike/thumbnail.webp')">
      <img class="thumb" data-src="games/Obby Bike/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Obby Bike" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Obby Bike</div>
  </div><div class="card game-card" data-index="9" data-folder="Little Alchemy 2" data-name="little alchemy 2" onclick="window.location.href='/Little Alchemy 2.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Little Alchemy 2/thumbnail.webp')">
      <img class="thumb" data-src="games/Little Alchemy 2/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Little Alchemy 2" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Little Alchemy 2</div>
  </div><div class="card game-card" data-index="10" data-folder="1v1.lol" data-name="1v1.lol" onclick="window.location.href='/1v1.lol.html'">
    <div class="thumb-container" style="--thumb-url: url('games/1v1.lol/thumbnail.webp')">
      <img class="thumb" data-src="games/1v1.lol/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="1v1.lol" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">1v1.lol</div>
  </div><div class="card game-card" data-index="11" data-folder="Earth Taken" data-name="earth taken" onclick="window.location.href='/Earth Taken.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Earth Taken/thumbnail.webp')">
      <img class="thumb" data-src="games/Earth Taken/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Earth Taken" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Earth Taken</div>
  </div><div class="card game-card" data-index="12" data-folder="CS Go Clicker" data-name="cs go clicker" onclick="window.location.href='/CS Go Clicker.html'">
    <div class="thumb-container" style="--thumb-url: url('games/CS Go Clicker/thumbnail.webp')">
      <img class="thumb" data-src="games/CS Go Clicker/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="CS Go Clicker" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">CS Go Clicker</div>
  </div><div class="card ad-tile" data-ad-index="0">
    <div class="ad-content">
      <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-1033412505744705"
        data-ad-slot="7257160873"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    </div>
  </div><div class="card game-card" data-index="13" data-folder="Drift Hunters" data-name="drift hunters" onclick="window.location.href='/Drift Hunters.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Drift Hunters/thumbnail.webp')">
      <img class="thumb" data-src="games/Drift Hunters/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Drift Hunters" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Drift Hunters</div>
  </div><div class="card game-card" data-index="14" data-folder="Helix Jump" data-name="helix jump" onclick="window.location.href='/Helix Jump.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Helix Jump/thumbnail.webp')">
      <img class="thumb" data-src="games/Helix Jump/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Helix Jump" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Helix Jump</div>
  </div><div class="card game-card" data-index="15" data-folder="Orange Roulette" data-name="orange roulette" onclick="window.location.href='/Orange Roulette.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Orange Roulette/thumbnail.webp')">
      <img class="thumb" data-src="games/Orange Roulette/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Orange Roulette" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Orange Roulette</div>
  </div><div class="card game-card" data-index="16" data-folder="4th and Goal" data-name="4th and goal" onclick="window.location.href='/4th and Goal.html'">
    <div class="thumb-container" style="--thumb-url: url('games/4th and Goal/thumbnail.webp')">
      <img class="thumb" data-src="games/4th and Goal/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="4th and Goal" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">4th and Goal</div>
  </div><div class="card game-card" data-index="17" data-folder="Bouncemasters" data-name="bouncemasters" onclick="window.location.href='/Bouncemasters.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Bouncemasters/thumbnail.webp')">
      <img class="thumb" data-src="games/Bouncemasters/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Bouncemasters" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Bouncemasters</div>
  </div><div class="card game-card" data-index="18" data-folder="Bouncy Basketball" data-name="bouncy basketball" onclick="window.location.href='/Bouncy Basketball.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Bouncy Basketball/thumbnail.webp')">
      <img class="thumb" data-src="games/Bouncy Basketball/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Bouncy Basketball" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Bouncy Basketball</div>
  </div><div class="card game-card" data-index="19" data-folder="Vapmpire Survivors" data-name="vapmpire survivors" onclick="window.location.href='/Vapmpire Survivors.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Vapmpire Survivors/thumbnail.webp')">
      <img class="thumb" data-src="games/Vapmpire Survivors/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Vapmpire Survivors" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Vapmpire Survivors</div>
  </div><div class="card game-card" data-index="20" data-folder="Gladdihoppers" data-name="gladdihoppers" onclick="window.location.href='/Gladdihoppers.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Gladdihoppers/thumbnail.webp')">
      <img class="thumb" data-src="games/Gladdihoppers/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Gladdihoppers" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Gladdihoppers</div>
  </div><div class="card game-card" data-index="21" data-folder="Crazy Cars" data-name="crazy cars" onclick="window.location.href='/Crazy Cars.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Crazy Cars/thumbnail.webp')">
      <img class="thumb" data-src="games/Crazy Cars/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Crazy Cars" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Crazy Cars</div>
  </div><div class="card game-card" data-index="22" data-folder="Bitlife" data-name="bitlife" onclick="window.location.href='/Bitlife.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Bitlife/thumbnail.webp')">
      <img class="thumb" data-src="games/Bitlife/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Bitlife" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Bitlife</div>
  </div><div class="card game-card" data-index="23" data-folder="Effing Worms" data-name="effing worms" onclick="window.location.href='/Effing Worms.html'">
    <div class="thumb-container" style="--thumb-url: url('games/Effing Worms/thumbnail.webp')">
      <img class="thumb" data-src="games/Effing Worms/thumbnail.webp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E" alt="Effing Worms" loading="lazy" decoding="async" width="300" height="300">
    </div>
    <div class="card-title">Effing Worms</div>
  </div>
        </div>
        <div id="loadingIndicator" style="display:none;text-align:center;padding:2rem;">
          <div class="loading-spinner"></div>
        </div>
        <div id="scrollSentinel" style="height:1px;"></div>
      </div>

      <footer id="siteFooter">
        <div class="footer-content">
          <div class="footer-brand">
            <h3>Chromebook Unlocked Games</h3>
            <span class="footer-url">chromebookunlocked.github.io</span>
          </div>
          <div class="footer-links">
            <a href="/important-pages/privacy-policy.html">Privacy Policy</a>
            <a href="/important-pages/cookie-policy.html">Cookie Policy</a>
            <a href="/important-pages/terms-of-service.html">Terms of Service</a>
            <a href="/important-pages/contact.html">Contact</a>
            <a href="/important-pages/dmca.html">DMCA</a>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2026 Chromebook Unlocked Games. All rights reserved.</p>
        </div>
      </footer>
    </div>
  </div>

  <!-- Game Data for Lazy Loading -->
  <script>
    window.__gameData = [{"n":"Henry Stickmin Escaping The Prison","f":"Henry Stickmin Escaping The Prison","t":"games/Henry Stickmin Escaping The Prison/thumbnail.webp","a":[],"c":["Adventure","Point and Click"]},{"n":"1on1 Tennis","f":"1on1 Tennis","t":"games/1on1 Tennis/thumbnail.webp","a":[],"c":["Sports"]},{"n":"Bloodmoney 2","f":"Bloodmoney 2","t":"games/Bloodmoney 2/thumbnail.webp","a":[],"c":["Clicker","Psychological"]},{"n":"The Visitor","f":"The Visitor","t":"games/The Visitor/thumbnail.webp","a":[],"c":["Horror","Point and Click"]},{"n":"Granny","f":"Granny","t":"games/Granny/thumbnail.webp","a":[],"c":["Horror","Action","Trending Games"]},{"n":"Going Balls","f":"Going Balls","t":"games/Going Balls/thumbnail.webp","a":[],"c":["Arcade","Casual"]},{"n":"Tower Wizzard","f":"Tower Wizzard","t":"games/Tower Wizzard/thumbnail.webp","a":[],"c":["Strategy"]},{"n":"Bob The Robber 2","f":"Bob The Robber 2","t":"games/Bob The Robber 2/thumbnail.webp","a":[],"c":["Stealth","Adventure"]},{"n":"Obby Bike","f":"Obby Bike","t":"games/Obby Bike/thumbnail.webp","a":[],"c":["Uncategorized"]},{"n":"Little Alchemy 2","f":"Little Alchemy 2","t":"games/Little Alchemy 2/thumbnail.webp","a":[],"c":["Casual","Puzzle","Sandbox"]},{"n":"1v1.lol","f":"1v1.lol","t":"games/1v1.lol/thumbnail.webp","a":[],"c":["Shooter","Building","Multiplayer","Trending Games"]},{"n":"Earth Taken","f":"Earth Taken","t":"games/Earth Taken/thumbnail.webp","a":[],"c":["Action","Shooter","Survival"]},{"n":"CS Go Clicker","f":"CS Go Clicker","t":"games/CS Go Clicker/thumbnail.webp","a":[],"c":["Clicker","Idle"]},{"n":"Drift Hunters","f":"Drift Hunters","t":"games/Drift Hunters/thumbnail.webp","a":[],"c":["Driving","Racing"]},{"n":"Helix Jump","f":"Helix Jump","t":"games/Helix Jump/thumbnail.webp","a":[],"c":["Arcade","Casual"]},{"n":"Orange Roulette","f":"Orange Roulette","t":"games/Orange Roulette/thumbnail.webp","a":[],"c":["Uncategorized"]},{"n":"4th and Goal","f":"4th and Goal","t":"games/4th and Goal/thumbnail.webp","a":[],"c":["Sports","Football","Retro"]},{"n":"Bouncemasters","f":"Bouncemasters","t":"games/Bouncemasters/thumbnail.webp","a":[],"c":["Arcade","Casual","Trending Games"]},{"n":"Bouncy Basketball","f":"Bouncy Basketball","t":"games/Bouncy Basketball/thumbnail.webp","a":[],"c":["2 Player","Basketball","Sports","Trending Games"]},{"n":"Vapmpire Survivors","f":"Vapmpire Survivors","t":"games/Vapmpire Survivors/thumbnail.webp","a":[],"c":["Action","Roguelike","Survival","Trending Games"]},{"n":"Gladdihoppers","f":"Gladdihoppers","t":"games/Gladdihoppers/thumbnail.webp","a":[],"c":["Actrion","Arcade","Fighting","Trending Games"]},{"n":"Crazy Cars","f":"Crazy Cars","t":"games/Crazy Cars/thumbnail.webp","a":[],"c":["Driving","Racing"]},{"n":"Bitlife","f":"Bitlife","t":"games/Bitlife/thumbnail.webp","a":[],"c":["Casual","Simulation"]},{"n":"Effing Worms","f":"Effing Worms","t":"games/Effing Worms/thumbnail.webp","a":[],"c":["Action","Arcade"]},{"n":"Bloxorz","f":"Bloxorz","t":"games/Bloxorz/thumbnail.webp","a":[],"c":["Puzzle","Logic"]},{"n":"Dead Zed 2","f":"Dead Zed 2","t":"games/Dead Zed 2/thumbnail.webp","a":[],"c":["Shooter","Zombie","Survival"]},{"n":"Infinite Craft","f":"Infinite Craft","t":"games/Infinite Craft/thumbnail.webp","a":[],"c":["Puzzle","Crafting","Sandbox"]},{"n":"Bouncy Motors","f":"Bouncy Motors","t":"games/Bouncy Motors/thumbnail.webp","a":[],"c":["Driving","Arcade"]},{"n":"Henry Stickmin Fleeing The Complex","f":"Henry Stickmin Fleeing The Complex","t":"games/Henry Stickmin Fleeing The Complex/thumbnail.webp","a":[],"c":["Adventure","Point and Click"]},{"n":"Burrito Bison Launcha Libre","f":"Burrito Bison Launcha Libre","t":"games/Burrito Bison Launcha Libre/thumbnail.webp","a":[],"c":["Arcade","Action"]},{"n":"Superhot","f":"Superhot","t":"games/Superhot/thumbnail.webp","a":[],"c":["Shooter","Action","Strategy"]},{"n":"Zombie Exploder","f":"Zombie Exploder","t":"games/Zombie Exploder/thumbnail.webp","a":[],"c":["Action","Shooter"]},{"n":"Drive Mad","f":"Drive Mad","t":"games/Drive Mad/thumbnail.webp","a":[],"c":["Driving","Physics","Puzzle"]},{"n":"10 Minutes Till Dawn","f":"10 Minutes Till Dawn","t":"games/10 Minutes Till Dawn/thumbnail.webp","a":[],"c":["Action","Roguelike","Shooter"]},{"n":"Blaze Drifter","f":"Blaze Drifter","t":"games/Blaze Drifter/thumbnail.webp","a":[],"c":["Driving","Racing"]},{"n":"Crazy Motorcycle","f":"Crazy Motorcycle","t":"games/Crazy Motorcycle/thumbnail.webp","a":[],"c":["Driving","Racing","Trading Games"]},{"n":"Blackjack","f":"Blackjack","t":"games/Blackjack/thumbnail.webp","a":[],"c":["Card","Casino","Casual"]},{"n":"Clear Vision 1","f":"Clear Vision 1","t":"games/Clear Vision 1/thumbnail.webp","a":[],"c":["Sniper","Shooter"]},{"n":"Bad Piggies","f":"Bad Piggies","t":"games/Bad Piggies/thumbnail.webp","a":[],"c":["Puzzle","Physics"]},{"n":"FNAF Pizzeria Simulator","f":"FNAF Pizzeria Simulator","t":"games/FNAF Pizzeria Simulator/thumbnail.webp","a":[],"c":["Horror","Simulation","Strategy"]},{"n":"They Are Coming","f":"They Are Coming","t":"games/They Are Coming/thumbnail.webp","a":[],"c":["Action","Survival"]},{"n":"Papas Burgeria","f":"Papas Burgeria","t":"games/Papas Burgeria/thumbnail.webp","a":[],"c":["Uncategorized"]},{"n":"Zombie Rush","f":"Zombie Rush","t":"games/Zombie Rush/thumbnail.webp","a":[],"c":["2 Player","Rougelike","Action","Zombie"]},{"n":"Elastic Face","f":"Elastic Face","t":"games/Elastic Face/thumbnail.webp","a":[],"c":["Casual","Funny"]},{"n":"Doki Doki Literature Club","f":"Doki Doki Literature Club","t":"games/Doki Doki Literature Club/thumbnail.webp","a":[],"c":["Horror","Visual Novel","Psychological"]},{"n":"Henry Stickmin Infiltrating The Airship","f":"Henry Stickmin Infiltrating The Airship","t":"games/Henry Stickmin Infiltrating The Airship/thumbnail.webp","a":[],"c":["Adventure","Point and Click"]},{"n":"Bullet Force","f":"Bullet Force","t":"games/Bullet Force/thumbnail.webp","a":[],"c":["Shooter","Action","Multiplayer"]},{"n":"Minecraft","f":"Minecraft","t":"games/Minecraft/thumbnail.webp","a":[],"c":["Sandbox","Building","Adventure"]},{"n":"Yellow","f":"Yellow","t":"games/Yellow/thumbnail.webp","a":[],"c":["Casual","Puzzle"]},{"n":"Bob The Robber 5","f":"Bob The Robber 5","t":"games/Bob The Robber 5/thumbnail.webp","a":[],"c":["Stealth","Adventure"]},{"n":"Deadly Descent","f":"Deadly Descent","t":"games/Deadly Descent/thumbnail.webp","a":[],"c":["Arcade","Action"]},{"n":"Pokemon Emerald","f":"Pokemon Emerald","t":"games/Pokemon Emerald/thumbnail.webp","a":[],"c":["RPG","Adventure","Retro"]},{"n":"The Last Stand","f":"The Last Stand","t":"games/The Last Stand/thumbnail.webp","a":[],"c":["Shooter","Zombie","Defense"]},{"n":"Self","f":"Self","t":"games/Self/thumbnail.webp","a":[],"c":["Puzzle","Adventure"]},{"n":"Fireboy and Watergirl 1","f":"Fireboy and Watergirl 1","t":"games/Fireboy and Watergirl 1/thumbnail.webp","a":[],"c":["2 Player","Platformer","Puzzle"]},{"n":"Zen Word","f":"Zen Word","t":"games/Zen Word/thumbnail.webp","a":[],"c":["Puzzle"]},{"n":"Block Blast","f":"Block Blast","t":"games/Block Blast/thumbnail.webp","a":[],"c":["Puzzle","Casual","Arcade","Trending Games"]},{"n":"Whack Your Boss","f":"Whack Your Boss","t":"games/Whack Your Boss/thumbnail.webp","a":[],"c":["Point and Click"]},{"n":"The Deadset","f":"The Deadset","t":"games/The Deadset/thumbnail.webp","a":[],"c":["Horror","Psyhological"]},{"n":"Geometry Dash Lite","f":"Geometry Dash Lite","t":"games/Geometry Dash Lite/thumbnail.webp","a":[],"c":["Platformer","Rhythm","Trending Games"]},{"n":"Exo Observation","f":"Exo Observation","t":"games/Exo Observation/thumbnail.webp","a":[],"c":["Puzzle","Adventure"]},{"n":"Plants vs Zombies 2","f":"Plants vs Zombies 2","t":"games/Plants vs Zombies 2/thumbnail.webp","a":[],"c":["Strategy","Tower Defense"]},{"n":"Swordfight","f":"Swordfight","t":"games/Swordfight/thumbnail.webp","a":[],"c":["Action","Fighting","Multiplayer"]},{"n":"Cut the Rope","f":"Cut the Rope","t":"games/Cut the Rope/thumbnail.webp","a":[],"c":["Puzzle","Physics","Casual"]},{"n":"Slide in the Woods","f":"Slide in the Woods","t":"games/Slide in the Woods/thumbnail.webp","a":[],"c":["Horror","Adventure"]},{"n":"Hanger 2","f":"Hanger 2","t":"games/Hanger 2/thumbnail.webp","a":[],"c":["Arcade","Physics"]},{"n":"Dunk Shot","f":"Dunk Shot","t":"games/Dunk Shot/thumbnail.webp","a":[],"c":["Sports","Arcade"]},{"n":"The Binding of Isaac - Wrath of the Lamb","f":"The Binding of Isaac - Wrath of the Lamb","t":"games/The Binding of Isaac - Wrath of the Lamb/thumbnail.webp","a":[],"c":["Roguelike","Action","Adventure"]},{"n":"Achilles 2","f":"Achilles 2","t":"games/Achilles 2/thumbnail.webp","a":[],"c":["Action","Fighting"]},{"n":"Stick Defenders","f":"Stick Defenders","t":"games/Stick Defenders/thumbnail.webp","a":[],"c":["Strategy","Action"]},{"n":"1on1 Soccer","f":"1on1 Soccer","t":"games/1on1 Soccer/thumbnail.webp","a":[],"c":["Sports","2 Player"]},{"n":"Wordle","f":"Wordle","t":"games/Wordle/thumbnail.webp","a":[],"c":["Casual","Puzzle"]},{"n":"Basketball Super Stars","f":"Basketball Super Stars","t":"games/Basketball Super Stars/thumbnail.webp","a":[],"c":["Uncategorized"]},{"n":"FNAF 4","f":"FNAF 4","t":"games/FNAF 4/thumbnail.webp","a":[],"c":["Horror","Strategy"]},{"n":"Bad Ice Cream 2","f":"Bad Ice Cream 2","t":"games/Bad Ice Cream 2/thumbnail.png","a":[],"c":["Uncategorized"]},{"n":"Whack the Thief","f":"Whack the Thief","t":"games/Whack the Thief/thumbnail.webp","a":[],"c":["Point and Click"]},{"n":"Age Of War","f":"Age Of War","t":"games/Age Of War/thumbnail.webp","a":[],"c":["Strategy","Simulation"]},{"n":"Winter Falling","f":"Winter Falling","t":"games/Winter Falling/thumbnail.webp","a":[],"c":["Strategy","Survival"]},{"n":"BTD5","f":"BTD5","t":"games/BTD5/thumbnail.webp","a":[],"c":["Tower Defence","Strategy"]},{"n":"Portal Flash","f":"Portal Flash","t":"games/Portal Flash/thumbnail.webp","a":[],"c":["Puzzle","Platformer"]},{"n":"Fruit Ninja","f":"Fruit Ninja","t":"games/Fruit Ninja/thumbnail.webp","a":[],"c":["Arcade","Casual"]},{"n":"Perfect Hotel","f":"Perfect Hotel","t":"games/Perfect Hotel/thumbnail.webp","a":[],"c":["Management","Simulation"]},{"n":"Cave Crawler","f":"Cave Crawler","t":"games/Cave Crawler/thumbnail.webp","a":[],"c":["Adventure","Platformer"]},{"n":"Deepest Sword","f":"Deepest Sword","t":"games/Deepest Sword/thumbnail.webp","a":[],"c":["Adventure","Platformer"]},{"n":"Gobble","f":"Gobble","t":"games/Gobble/thumbnail.webp","a":[],"c":["Puzzle","Arcade","Casual Trending Games"]},{"n":"2048","f":"2048","t":"games/2048/thumbnail.webp","a":[],"c":["Puzzle"]},{"n":"Ninja Obby Parkour","f":"Ninja Obby Parkour","t":"games/Ninja Obby Parkour/thumbnail.webp","a":[],"c":["Platformer","Action"]},{"n":"Clear Vision 3","f":"Clear Vision 3","t":"games/Clear Vision 3/thumbnail.webp","a":[],"c":["Sniper","Shooter"]},{"n":"Bowmasters","f":"Bowmasters","t":"games/Bowmasters/thumbnail.webp","a":[],"c":["Action","Sports","2 Player"]},{"n":"Extreme Run 3D","f":"Extreme Run 3D","t":"games/Extreme Run 3D/thumbnail.webp","a":[],"c":["Platformer","Running"]},{"n":"Lone Wolf","f":"Lone Wolf","t":"games/Lone Wolf/thumbnail.webp","a":[],"c":["Shooter","Action"]},{"n":"Bloodmoney","f":"Bloodmoney","t":"games/Bloodmoney/thumbnail.webp","a":[],"c":["Shooter","Action"]},{"n":"Polytrack","f":"Polytrack","t":"games/Polytrack/thumbnail.webp","a":[],"c":["Racing","Driving"]},{"n":"Worlds Hardest Game","f":"Worlds Hardest Game","t":"games/Worlds Hardest Game/thumbnail.webp","a":[],"c":["Casual"]},{"n":"FNAF 2","f":"FNAF 2","t":"games/FNAF 2/thumbnail.webp","a":[],"c":["Horror","Strategy"]},{"n":"Airline Tycoon Idle","f":"Airline Tycoon Idle","t":"games/Airline Tycoon Idle/thumbnail.webp","a":[],"c":["Simulation","Clickers"]},{"n":"Ages of Conflict","f":"Ages of Conflict","t":"games/Ages of Conflict/thumbnail.webp","a":[],"c":["Simulation","Strategy"]},{"n":"Fall Guys Mini","f":"Fall Guys","t":"games/Fall Guys/thumbnail.webp","a":[],"c":["Arcade","Multiplayer"]},{"n":"Happy Room","f":"Happy Room","t":"games/Happy Room/thumbnail.webp","a":[],"c":["Simulation","Ragdoll","Action"]},{"n":"Rocket Soccer Derby","f":"Rocket Soccer Derby","t":"games/Rocket Soccer Derby/thumbnail.webp","a":[],"c":["Sports","Racing","Soccer"]},{"n":"Henry Stickmin Stealing The Diamond","f":"Henry Stickmin Stealing The Diamond","t":"games/Henry Stickmin Stealing The Diamond/thumbnail.webp","a":[],"c":["Adventure","Point and Click"]},{"n":"Super Cold","f":"Super Cold","t":"games/Super Cold/thumbnail.webp","a":[],"c":["Shooter","Action","Strategy"]},{"n":"Highway Racer","f":"Highway Racer","t":"games/Highway Racer/thumbnail.webp","a":[],"c":["Driving","Racing"]},{"n":"Clear Vision 5","f":"Clear Vision 5","t":"games/Clear Vision 5/thumbnail.webp","a":[],"c":["Sniper","Shooter"]},{"n":"Leap and Avoid 2","f":"Leap and Avoid 2","t":"games/Leap and Avoid 2/thumbnail.webp","a":[],"c":["Platformer","Arcade","Skill"]},{"n":"Grindcraft","f":"Grindcraft","t":"games/Grindcraft/thumbnail.webp","a":[],"c":["Clicker","Crafting","Idle"]},{"n":"Bounty of One","f":"Bounty of One","t":"games/Bounty of One/thumbnail.webp","a":[],"c":["Action","Roguelike","Trending Games"]},{"n":"Super Falling Fred","f":"Super Falling Fred","t":"games/Super Falling Fred/thumbnail.webp","a":[],"c":["Arcade","Action"]},{"n":"A Dance of Fire and Ice","f":"A Dance of Fire and Ice","t":"games/A Dance of Fire and Ice/thumbnail.webp","a":[],"c":["Rhythm","Music"]},{"n":"Drift Boss","f":"Drift Boss","t":"games/Drift Boss/thumbnail.webp","a":[],"c":["Driving","Arcade"]},{"n":"Burger and Frights","f":"Burger and Frights","t":"games/Burger and Frights/thumbnail.webp","a":[],"c":["Horror","Driving"]},{"n":"Clear Vision 2","f":"Clear Vision 2","t":"games/Clear Vision 2/thumbnail.webp","a":[],"c":["Sniper","Shooter"]},{"n":"Cookie Clicker","f":"Cookie Clicker","t":"games/Cookie Clicker/thumbnail.webp","a":[],"c":["Clicker","Idle","Trending Games"]},{"n":"Gun Spin","f":"Gun Spin","t":"games/Gun Spin/thumbnail.webp","a":[],"c":["Arcade","Physics"]},{"n":"Clear Vision 4","f":"Clear Vision 4","t":"games/Clear Vision 4/thumbnail.webp","a":[],"c":["Sniper","Shooter"]},{"n":"OvO","f":"OvO","t":"games/OvO/thumbnail.webp","a":[],"c":["Platformer","Parkour","Skill"]},{"n":"3Dash","f":"3Dash","t":"games/3Dash/thumbnail.webp","a":[],"c":["Platformer","Rhythm","Trending Games"]},{"n":"Five Nights at Wilsons","f":"Five Nights at Wilsons","t":"games/Five Nights at Wilsons/thumbnail.webp","a":[],"c":["Horror"]},{"n":"Basketball Legends","f":"Basketball Legends","t":"games/Basketball Legends/thumbnail.webp","a":[],"c":["Sports","Basketball","2 Player","Trending Games"]},{"n":"Bit Planes","f":"Bit Planes","t":"games/Bit Planes/thumbnail.webp","a":[],"c":["Arcade","Shooter"]},{"n":"Blockcraft Parkour","f":"Blockcraft Parkour","t":"games/Blockcraft Parkour/thumbnail.webp","a":[],"c":["Parkour","Adventure","3D"]},{"n":"Adventure Capitalist","f":"Adventure Capitalist","t":"games/Adventure Capitalist/thumbnail.webp","a":[],"c":["Idle","Clicker","Simulation"]},{"n":"Buster Jam","f":"Buster Jam","t":"games/Buster Jam/thumbnail.webp","a":[],"c":["Puzzle","Arcade"]},{"n":"Slope","f":"Slope","t":"games/Slope/thumbnail.webp","a":[],"c":["Arcade","Running","Endless","Trending Games"]},{"n":"Dreader","f":"Dreader","t":"games/Dreader/thumbnail.webp","a":[],"c":["Psychological","Horror"]},{"n":"Sea Mongrel","f":"Sea Mongrel","t":"games/Sea Mongrel/thumbnail.webp","a":[],"c":["Adventure","Action"]},{"n":"Crossy Road","f":"Crossy Road","t":"games/Crossy Road/thumbnail.webp","a":[],"c":["Arcade","Casual"]},{"n":"Retro Bowl","f":"Retro Bowl","t":"games/Retro Bowl/thumbnail.webp","a":[],"c":["Sports","Football","Retro"]},{"n":"Dud","f":"Dud","t":"games/Dud/thumbnail.webp","a":[],"c":["Action","Rougelike","Casual"]},{"n":"Douchebag Life","f":"Douchebag Life","t":"games/Douchebag Life/thumbnail.webp","a":[],"c":["Simulation","Casual"]},{"n":"Mana God","f":"Mana God","t":"games/Mana God/thumbnail.webp","a":[],"c":["Clicker","Strategy","Tower Defence"]},{"n":"Exit Path","f":"Exit Path","t":"games/Exit Path/thumbnail.png","a":[],"c":["Uncategorized"]},{"n":"Bob The Robber","f":"Bob The Robber","t":"games/Bob The Robber/thumbnail.webp","a":[],"c":["Adventure","Puzzle"]},{"n":"Crank It!","f":"Crank It!","t":"games/Crank It!/thumbnail.webp","a":[],"c":["Horror","Psyhological"]},{"n":"Smash Carts","f":"Smash Carts","t":"games/Smash Carts/thumbnail.webp","a":[],"c":["Racing","Action","Multiplayer","Trending Games"]},{"n":"Escape Road","f":"Escape Road","t":"games/Escape Road/thumbnail.webp","a":[],"c":["Racing","Action"]},{"n":"Get Yoked","f":"Get Yoked","t":"games/Get Yoked/thumbnail.webp","a":[],"c":["Action","Arcade"]},{"n":"Whack Your Computer","f":"Whack Your Computer","t":"games/Whack Your Computer/thumbnail.webp","a":[],"c":["Point and Click"]},{"n":"Hungry Lamu","f":"Hungry Lamu","t":"games/Hungry Lamu/thumbnail.webp","a":[],"c":["Horror","Psychological"]},{"n":"234 Player Games","f":"234 Player Games","t":"games/234 Player Games/thumbnail.webp","a":[],"c":["2 Player","Casual"]},{"n":"Bad Ice Cream","f":"Bad Ice Cream","t":"games/Bad Ice Cream/thumbnail.webp","a":[],"c":["2 Player","Arcade","Puzzle"]},{"n":"Block the Pig","f":"Block the Pig","t":"games/Block the Pig/thumbnail.webp","a":[],"c":["Puzzle","Strategy"]},{"n":"Basketball FRVR","f":"Basketball FRVR","t":"games/Basketball FRVR/thumbnail.webp","a":[],"c":["Sports","Arcade"]},{"n":"Happy Wheels","f":"Happy Wheels","t":"games/Happy Wheels/thumbnail.webp","a":[],"c":["Ragdoll","Racing","Physics"]},{"n":"Ultimate Driving Simulator","f":"Ultimate Driving Simulator","t":"games/Ultimate Driving Simulator/thumbnail.webp","a":[],"c":["Driving","Simulation","Racing"]},{"n":"Cluster Rush","f":"Cluster Rush","t":"games/Cluster Rush/thumbnail.webp","a":[],"c":["Action","Platformer"]},{"n":"Road of the Dead","f":"Road of the Dead","t":"games/Road of the Dead/thumbnail.webp","a":[],"c":["Zombie","Action","Driving"]},{"n":"Zombotron Reboot","f":"Zombotron Reboot","t":"games/Zombotron Reboot/thumbnail.webp","a":[],"c":["Action","Shooter","Platformer"]},{"n":"Friday Night Funkin Undertale","f":"Friday Night Funkin Undertale","t":"games/Friday Night Funkin Undertale/thumbnail.webp","a":[],"c":["Rhythm","Music"]},{"n":"Capybara Clicker","f":"Capybara Clicker","t":"games/Capybara Clicker/thumbnail.webp","a":[],"c":["Clicker","Idle"]},{"n":"FNAF 1","f":"FNAF 1","t":"games/FNAF 1/thumbnail.webp","a":[],"c":["Horror","Strategy"]},{"n":"Hover Race Drive","f":"Hover Race Drive","t":"games/Hover Race Drive/thumbnail.webp","a":[],"c":["Driving","Racing"]},{"n":"Crazy Cattle 3D","f":"Crazy Cattle 3D","t":"games/Crazy Cattle 3D/thumbnail.webp","a":[],"c":["Arcade","Action"]},{"n":"Gold Digger FRVR","f":"Gold Digger FRVR","t":"games/Gold Digger FRVR/thumbnail.webp","a":[],"c":["Arcade","Mining"]},{"n":"Bad Parenting","f":"Bad Parenting","t":"games/Bad Parenting/thumbnail.webp","a":[],"c":["Horror","Psychological"]},{"n":"Friday Night Funkin","f":"Friday Night Funkin","t":"games/Friday Night Funkin/thumbnail.webp","a":[],"c":["Rhythm","Music","Trending Games"]},{"n":"Ace Combat 3","f":"Ace Combat 3","t":"games/Ace Combat 3/thumbnail.webp","a":[],"c":["Flight","Shooter","Simulation"]},{"n":"One Bit Adventure","f":"One Bit Adventure","t":"games/One Bit Adventure/thumbnail.webp","a":[],"c":["Adventure","RPG"]},{"n":"Deltarune","f":"Deltarune","t":"games/Deltarune/thumbnail.webp","a":[],"c":["Adventure","RPG"]},{"n":"Wrassling","f":"Wrassling","t":"games/Wrassling/thumbnail.webp","a":[],"c":["Sports","Action","Retro"]},{"n":"Bad Time Simulator","f":"Bad Time Simulator","t":"games/Bad Time Simulator/thumbnail.webp","a":[],"c":["Action","Boss Fight"]}];
    window.__renderedCount = 24;
    window.__rowsPerLoad = 3;
    window.__scrollThreshold = 300;
    // Ad tile configuration
    window.__adFirstPosition = 13;
    window.__adInterval = 20;
    window.__adCount = 1;
  </script>

  <!-- Initialize AdSense Ads -->
  <script>
    (function() {
      // Initialize all existing ad tiles
      var ads = document.querySelectorAll('.ad-tile ins.adsbygoogle');
      for (var i = 0; i < ads.length; i++) {
        try {
          (adsbygoogle = window.adsbygoogle || []).push({});
        } catch (e) {}
      }
    })();
  </script>

  <script>
    // Lazy Loading State
let renderedCount = window.__renderedCount || 0;
let isLoading = false;
let allGamesLoaded = false;
let currentCategory = null; // null = home (all games), or category name

// Ad tile configuration
const AD_FIRST_POSITION = window.__adFirstPosition || 13;
const AD_INTERVAL = window.__adInterval || 20;
let adCount = window.__adCount || 0;

/**
 * Check if an ad should be inserted after a given game index
 * @param {number} gameIndex - The 0-indexed position in the game list
 * @returns {boolean} Whether an ad should be inserted after this game
 */
function shouldInsertAdAfter(gameIndex) {
  if (gameIndex < AD_FIRST_POSITION - 1) return false;
  const positionFromFirst = gameIndex - (AD_FIRST_POSITION - 1);
  return positionFromFirst >= 0 && positionFromFirst % AD_INTERVAL === 0;
}

/**
 * Create an ad tile element
 * @param {number} adIndex - Unique index for this ad tile
 * @returns {HTMLElement} Ad tile element
 */
function createAdTile(adIndex) {
  const tile = document.createElement('div');
  tile.className = 'card ad-tile';
  tile.setAttribute('data-ad-index', adIndex);
  tile.innerHTML = `<div class="ad-content">
    <ins class="adsbygoogle"
      style="display:block"
      data-ad-client="ca-pub-1033412505744705"
      data-ad-slot="7257160873"
      data-ad-format="auto"
      data-full-width-responsive="true"></ins>
  </div>`;
  return tile;
}

/**
 * Initialize an ad tile
 * @param {HTMLElement} tile - The ad tile element
 */
function initializeAdTile(tile) {
  try {
    (adsbygoogle = window.adsbygoogle || []).push({});
  } catch (e) {}
}

// Cached DOM elements for performance
let cachedElements = null;
function getCachedElements() {
  if (!cachedElements) {
    cachedElements = {
      searchBar: document.getElementById('searchBar'),
      searchDropdown: document.getElementById('searchDropdown'),
      searchContainer: document.getElementById('searchContainer'),
      content: document.getElementById('content'),
      gamesGrid: document.getElementById('gamesGrid'),
      loadingIndicator: document.getElementById('loadingIndicator'),
      scrollSentinel: document.getElementById('scrollSentinel'),
      allGamesSection: document.getElementById('allGamesSection')
    };
  }
  return cachedElements;
}

// Escape HTML to prevent XSS
function escapeHtml(str) {
  if (str == null) return '';
  if (typeof str !== 'string') str = String(str);
  const div = document.createElement('div');
  div.textContent = str;
  return div.innerHTML;
}

// Escape HTML attribute value
function escapeHtmlAttr(str) {
  if (str == null) return '';
  if (typeof str !== 'string') str = String(str);
  return escapeHtml(str)
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#x27;');
}

/**
 * Create a game card element
 * @param {Object} game - Game data object {n: name, f: folder, t: thumb, a: aliases, c: categories}
 * @param {number} idx - Card index
 * @param {boolean} eagerLoad - Whether to eager load the thumbnail
 * @returns {HTMLElement} Card element
 */
function createGameCard(game, idx, eagerLoad = false) {
  const card = document.createElement('div');
  card.className = 'card game-card';
  card.setAttribute('data-index', idx);
  card.setAttribute('data-folder', game.f);
  card.setAttribute('data-name', game.n.toLowerCase());

  if (game.a && game.a.length > 0) {
    card.setAttribute('data-aliases', game.a.map(a => a.toLowerCase()).join(','));
  }

  if (game.c && game.c.length > 0) {
    card.setAttribute('data-categories', game.c.join(','));
  }

  card.onclick = () => {
    window.location.href = '/' + game.f + '.html';
  };

  const thumbUrl = escapeHtmlAttr(game.t);
  const gameName = escapeHtml(game.n);
  const gameNameAttr = escapeHtmlAttr(game.n);

  // Use data-src for lazy loading, src for eager loading
  const srcAttr = eagerLoad
    ? `src="${thumbUrl}"`
    : `data-src="${thumbUrl}" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3C/svg%3E"`;
  const loadingAttr = eagerLoad ? 'eager' : 'lazy';

  card.innerHTML = `<div class="thumb-container" style="--thumb-url: url('${thumbUrl}')">
    <img class="thumb" ${srcAttr} alt="${gameNameAttr}" loading="${loadingAttr}" decoding="async" width="300" height="300" onerror="this.src='assets/logo.webp'">
  </div>
  <div class="card-title">${gameName}</div>`;

  return card;
}

/**
 * Get filtered games based on current category
 * @returns {Array} Filtered game data array
 */
function getFilteredGames() {
  const allGames = window.__gameData || [];

  if (!currentCategory) {
    return allGames; // Home - show all games
  }

  return allGames.filter(game => {
    return game.c && game.c.includes(currentCategory);
  });
}

/**
 * Load more games into the grid
 * @param {number} count - Number of games to load
 */
function loadMoreGames(count) {
  if (isLoading || allGamesLoaded) return;

  const { gamesGrid, loadingIndicator } = getCachedElements();
  if (!gamesGrid) return;

  const filteredGames = getFilteredGames();
  const totalGames = filteredGames.length;

  if (renderedCount >= totalGames) {
    allGamesLoaded = true;
    return;
  }

  isLoading = true;
  if (loadingIndicator) loadingIndicator.style.display = 'block';

  // Use requestAnimationFrame for smooth rendering
  requestAnimationFrame(() => {
    const fragment = document.createDocumentFragment();
    const endIndex = Math.min(renderedCount + count, totalGames);
    const newAdTiles = [];

    for (let i = renderedCount; i < endIndex; i++) {
      const game = filteredGames[i];
      const card = createGameCard(game, i, false);
      fragment.appendChild(card);

      // Setup lazy loading for the image
      const img = card.querySelector('img.thumb[data-src]');
      if (img && imageObserver) {
        imageObserver.observe(img);
      }

      // Check if we should insert an ad tile after this game
      if (shouldInsertAdAfter(i)) {
        const adTile = createAdTile(adCount);
        fragment.appendChild(adTile);
        newAdTiles.push(adTile);
        adCount++;
      }
    }

    gamesGrid.appendChild(fragment);
    renderedCount = endIndex;

    // Initialize new ad tiles after they're in the DOM
    newAdTiles.forEach(initializeAdTile);

    if (renderedCount >= totalGames) {
      allGamesLoaded = true;
    }

    isLoading = false;
    if (loadingIndicator) loadingIndicator.style.display = 'none';
  });
}

/**
 * Reset and reload the grid with optional category filter
 * @param {string|null} category - Category to filter by, or null for all games
 */
function resetAndReloadGrid(category) {
  const { gamesGrid, content } = getCachedElements();
  if (!gamesGrid) return;

  currentCategory = category;
  renderedCount = 0;
  allGamesLoaded = false;
  isLoading = false;
  adCount = 0; // Reset ad count for new grid

  // Clear existing cards
  gamesGrid.innerHTML = '';

  // Calculate initial load based on viewport
  const columnsPerRow = getColumnCount();
  const rowsToLoad = window.__rowsPerLoad ? window.__rowsPerLoad + 2 : 5;
  const initialCount = columnsPerRow * rowsToLoad;

  // Load initial games
  loadMoreGames(initialCount);

  // Scroll to top
  if (content) content.scrollTop = 0;

  // Update section title
  const { allGamesSection } = getCachedElements();
  if (allGamesSection) {
    const h2 = allGamesSection.querySelector('h2');
    if (h2) {
      h2.textContent = category || 'All Games';
    }
  }
}

// Get number of columns in grid
function getColumnCount() {
  const { gamesGrid } = getCachedElements();
  if (!gamesGrid) return 6;

  const style = window.getComputedStyle(gamesGrid);
  const cols = style.gridTemplateColumns;
  if (!cols) return 6;

  return cols.split(' ').filter(Boolean).length || 6;
}

// Intersection Observer for lazy loading images
let imageObserver = null;

function setupImageObserver() {
  if (!('IntersectionObserver' in window)) {
    // Fallback: load all images with data-src
    document.querySelectorAll('img.thumb[data-src]').forEach(img => {
      img.src = img.getAttribute('data-src');
      img.removeAttribute('data-src');
    });
    return;
  }

  imageObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        if (img.hasAttribute('data-src')) {
          img.src = img.getAttribute('data-src');
          img.removeAttribute('data-src');
        }
        observer.unobserve(img);
      }
    });
  }, {
    rootMargin: '100px 0px',
    threshold: 0.01
  });

  // Observe existing images
  document.querySelectorAll('img.thumb[data-src]').forEach(img => {
    imageObserver.observe(img);
  });
}

// Intersection Observer for infinite scroll
let scrollObserver = null;

function setupScrollObserver() {
  if (!('IntersectionObserver' in window)) {
    // Fallback: use scroll event
    const { content } = getCachedElements();
    if (content) {
      content.addEventListener('scroll', handleScrollFallback);
    }
    return;
  }

  const { scrollSentinel } = getCachedElements();
  if (!scrollSentinel) return;

  scrollObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !isLoading && !allGamesLoaded) {
        const columnsPerRow = getColumnCount();
        const rowsToLoad = window.__rowsPerLoad || 3;
        loadMoreGames(columnsPerRow * rowsToLoad);
      }
    });
  }, {
    rootMargin: `${window.__scrollThreshold || 300}px 0px`,
    threshold: 0
  });

  scrollObserver.observe(scrollSentinel);
}

// Fallback scroll handler for browsers without IntersectionObserver
function handleScrollFallback() {
  const { content } = getCachedElements();
  if (!content || isLoading || allGamesLoaded) return;

  const scrollTop = content.scrollTop;
  const scrollHeight = content.scrollHeight;
  const clientHeight = content.clientHeight;
  const threshold = window.__scrollThreshold || 300;

  if (scrollHeight - scrollTop - clientHeight < threshold) {
    const columnsPerRow = getColumnCount();
    const rowsToLoad = window.__rowsPerLoad || 3;
    loadMoreGames(columnsPerRow * rowsToLoad);
  }
}

// Search functionality
function searchGames(query) {
  const searchTerm = query.toLowerCase().trim();
  const { searchDropdown } = getCachedElements();

  if (!searchTerm) {
    searchDropdown.classList.remove('show');
    searchDropdown.innerHTML = '';
    return;
  }

  const allGames = window.__gameData || [];
  const matchingGames = [];

  for (const game of allGames) {
    const nameLower = game.n.toLowerCase();
    const nameMatches = nameLower.includes(searchTerm);
    const aliasMatches = game.a && game.a.some(alias =>
      alias.toLowerCase().includes(searchTerm)
    );

    if (nameMatches || aliasMatches) {
      matchingGames.push({
        folder: game.f,
        name: game.n,
        thumb: game.t,
        // Score for sorting
        score: nameLower === searchTerm ? 3 :
               nameLower.startsWith(searchTerm) ? 2 : 1
      });
    }
  }

  // Sort by relevance
  matchingGames.sort((a, b) => {
    if (b.score !== a.score) return b.score - a.score;
    return a.name.localeCompare(b.name);
  });

  // Limit to top 8 results
  const topResults = matchingGames.slice(0, 8);

  if (topResults.length === 0) {
    searchDropdown.innerHTML = '<div class="search-no-results">No games found</div>';
  } else {
    searchDropdown.innerHTML = topResults.map(game => {
      const escapedFolder = escapeHtmlAttr(game.folder);
      const escapedThumb = escapeHtmlAttr(game.thumb);
      const escapedName = escapeHtmlAttr(game.name);
      const escapedNameText = escapeHtml(game.name);
      return `<div class="search-result-item" onclick="window.location.href='/${escapedFolder}.html'">
        <img class="search-result-thumb" src="${escapedThumb}" alt="${escapedName}" loading="lazy" decoding="async" width="60" height="60" onerror="this.src='assets/logo.webp'">
        <div class="search-result-name">${escapedNameText}</div>
      </div>`;
    }).join('');
  }

  searchDropdown.classList.add('show');
}

function hideSearchDropdown() {
  const { searchDropdown, searchBar } = getCachedElements();
  if (searchDropdown) searchDropdown.classList.remove('show');
  if (searchBar) searchBar.value = '';
}

// Close dropdown when clicking outside
document.addEventListener('click', (e) => {
  const { searchContainer, searchDropdown } = getCachedElements();
  if (searchContainer && searchDropdown && !searchContainer.contains(e.target)) {
    searchDropdown.classList.remove('show');
  }
});

// Category filtering
function filterCategory(cat, updateURL = true) {
  const { searchBar } = getCachedElements();

  // Clear search
  if (searchBar) searchBar.value = '';
  hideSearchDropdown();

  // Update URL if requested
  if (updateURL) {
    if (cat === 'Home' || !cat) {
      window.history.pushState(null, '', '/');
    } else {
      window.history.pushState(null, '', '#/category/' + encodeURIComponent(cat));
    }
  }

  // Reset and reload with category filter
  if (cat === 'Home') {
    resetAndReloadGrid(null);
  } else {
    resetAndReloadGrid(cat);
  }
}

// Navigate to home
function goToHome() {
  window.history.pushState(null, '', '/');
  hideSearchDropdown();
  filterCategory('Home', false);
}

// Routing & deep links
function handleRouting() {
  const hash = window.location.hash;

  if (hash.startsWith('#/category/')) {
    const category = decodeURIComponent(hash.replace('#/category/', ''));
    filterCategory(category, false);
  } else {
    // Home - show all games
    filterCategory('Home', false);
  }
}

// Handle window resize - recalculate columns
let resizeTimeout = null;
window.addEventListener('resize', () => {
  clearTimeout(resizeTimeout);
  resizeTimeout = setTimeout(() => {
    // Column count might have changed, but we don't need to reload
    // The grid handles responsiveness via CSS
  }, 150);
});

// Initial load
document.addEventListener('DOMContentLoaded', () => {
  // Setup observers
  setupImageObserver();
  setupScrollObserver();

  // Add error handlers to existing thumbnails
  document.querySelectorAll('img.thumb').forEach(img => {
    img.onerror = function() {
      this.onerror = null;
      this.src = 'assets/logo.webp';
      const container = this.closest('.thumb-container');
      if (container) {
        container.style.setProperty('--thumb-url', "url('assets/logo.webp')");
      }
    };
  });

  // Handle routing
  handleRouting();
  window.addEventListener('hashchange', handleRouting);
});

  </script>

  <!-- Track Homepage View -->
  <script>
    // Track the homepage visit with enhanced analytics
    if (typeof trackEnhancedPageView !== 'undefined') {
      trackEnhancedPageView('homepage', 'Home', {
        total_games: 161,
        categories_count: 62
      });
    }

    // Track category navigation
    const originalFilterCategory = window.filterCategory;
    if (originalFilterCategory) {
      window.filterCategory = function(category) {
        if (typeof gtag !== 'undefined') {
          gtag('event', 'category_navigation', {
            category_name: category,
            session_id: window.analyticsSession ? window.analyticsSession.sessionId : 'unknown',
            timestamp: new Date().toISOString()
          });
        }
        originalFilterCategory(category);
      };
    }

    // Track search interactions
    const originalSearchGames = window.searchGames;
    if (originalSearchGames) {
      let searchTimeout;
      window.searchGames = function(query) {
        // Debounce search tracking
        clearTimeout(searchTimeout);
        if (query && query.length >= 2) {
          searchTimeout = setTimeout(function() {
            if (typeof gtag !== 'undefined') {
              gtag('event', 'search', {
                search_term: query,
                session_id: window.analyticsSession ? window.analyticsSession.sessionId : 'unknown',
                timestamp: new Date().toISOString()
              });
            }
          }, 500);
        }
        originalSearchGames(query);
      };
    }
  </script>

  <!-- Cookie Consent Banner - Load asynchronously -->
  <link rel="preload" as="style" href="assets/cookie-consent.css" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="assets/cookie-consent.css"></noscript>
  <script src="assets/cookie-consent.js" defer></script>
</body>
</html>